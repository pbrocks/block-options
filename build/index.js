!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=176)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function o(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}},function(e,t,o){var n=o(64),r=o(7);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},function(e,t){function o(t){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(t)}e.exports=o},function(e,t,o){var n=o(65);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,o){e.exports=o(151)()},function(e,t){e.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(e,t,o){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var c=r.apply(null,n);c&&e.push(c)}else if("object"===i)for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){function o(){return e.exports=o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o.apply(this,arguments)}e.exports=o},function(e,t,o){var n=o(44),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},function(e,t){var o=Array.isArray;e.exports=o},function(e,t,o){var n=o(79),r=o(84);e.exports=function(e,t){var o=r(e,t);return n(o)?o:void 0}},function(e,t,o){var n=o(24),r=o(80),i=o(81),c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?r(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,o){var n=o(40),r=o(66),i=o(145),c=o(14);e.exports=function(e,t){return(c(e)?n:i)(e,r(t,3))}},function(e,t,o){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(n=function(){return i}.call(t,o,t,e))||(e.exports=n)}()},function(e,t,o){var n,r,i;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */i=function(){var e,t,o=document,n=o.getElementsByTagName("head")[0],r={},i={},c={},s={};function a(e,t){for(var o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return 1}function l(e,t){a(e,(function(e){return t(e),1}))}function u(t,o,n){t=t.push?t:[t];var d=o&&o.call,b=d?o:n,f=d?t.join(""):o,m=t.length;function h(e){return e.call?e():r[e]}function g(){if(!--m)for(var e in r[f]=1,b&&b(),c)a(e.split("|"),h)&&!l(c[e],h)&&(c[e]=[])}return setTimeout((function(){l(t,(function t(o,n){return null===o?g():(n||/^https?:\/\//.test(o)||!e||(o=-1===o.indexOf(".js")?e+o+".js":e+o),s[o]?(f&&(i[f]=1),2==s[o]?g():setTimeout((function(){t(o,!0)}),0)):(s[o]=1,f&&(i[f]=1),void p(o,g)))}))}),0),u}function p(e,r){var i,c=o.createElement("script");c.onload=c.onerror=c.onreadystatechange=function(){c.readyState&&!/^c|loade/.test(c.readyState)||i||(c.onload=c.onreadystatechange=null,i=1,s[e]=2,r())},c.async=1,c.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,n.insertBefore(c,n.lastChild)}return u.get=p,u.order=function(e,t,o){!function n(r){r=e.shift(),e.length?u(r,n):u(r,t,o)}()},u.path=function(t){e=t},u.urlArgs=function(e){t=e},u.ready=function(e,t,o){e=e.push?e:[e];var n,i=[];return!l(e,(function(e){r[e]||i.push(e)}))&&a(e,(function(e){return r[e]}))?t():(n=e.join("|"),c[n]=c[n]||[],c[n].push(t),o&&o(i)),u},u.done=function(e){u([null],e)},u},e.exports?e.exports=i():void 0===(r="function"==typeof(n=i)?n.call(t,o,t,e):n)||(e.exports=r)},function(e,t,o){var n=o(156);e.exports=function(e,t){if(null==e)return{};var o,r,i=n(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)o=c[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}},function(e,t,o){var n=o(69),r=o(70),i=o(71),c=o(72),s=o(73);function a(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=c,a.prototype.set=s,e.exports=a},function(e,t,o){var n=o(42);e.exports=function(e,t){for(var o=e.length;o--;)if(n(e[o][0],t))return o;return-1}},function(e,t,o){var n=o(13).Symbol;e.exports=n},function(e,t,o){var n=o(15)(Object,"create");e.exports=n},function(e,t,o){var n=o(93);e.exports=function(e,t){var o=e.__data__;return n(t)?o["string"==typeof t?"string":"hash"]:o.map}},function(e,t,o){var n=o(38);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,o){var n=o(57),r=o(58),i=o(59);e.exports=function(e){return n(e)||r(e)||i()}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o,n){return"boolean"==typeof e?e:"function"==typeof e?e(t,o,n):!(!0!=!!e||!e)},r=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,o,n){return n?new Error(n):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+o+"`.")};t.default=function(e,t,o){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,o),function(c,s,a){for(var l=arguments.length,u=Array(3<l?l-3:0),p=3;p<l;p++)u[p-3]=arguments[p];return n(t,c,s,a)?r(c,s)?e.apply(void 0,[c,s,a].concat(u)):i(c,s,a,o):e.apply(void 0,[c,s,a].concat(u))}}},function(e,t,o){var n=o(15)(o(13),"Map");e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,o){var n=o(85),r=o(92),i=o(94),c=o(95),s=o(96);function a(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=c,a.prototype.set=s,e.exports=a},function(e,t,o){var n=o(114),r=o(121),i=o(36);e.exports=function(e){return i(e)?n(e):r(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,o){var n=o(43),r=o(35);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},function(e,t,o){var n=o(14),r=o(38),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!r(e))||(c.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,o){var n=o(16),r=o(17);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},function(e,t,o){var n=o(158),r=o(159),i=o(160);e.exports=function(e,t){return n(e)||r(e,t)||i()}},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,r=Array(n);++o<n;)r[o]=t(e[o],o,e);return r}},function(e,t,o){var n=o(22),r=o(74),i=o(75),c=o(76),s=o(77),a=o(78);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=c,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,o){var n=o(16),r=o(32);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,o){(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.exports=o}).call(this,o(62))},function(e,t){var o=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,o){var n=o(97),r=o(17);e.exports=function e(t,o,i,c,s){return t===o||(null==t||null==o||!r(t)&&!r(o)?t!=t&&o!=o:n(t,o,i,c,e,s))}},function(e,t,o){var n=o(98),r=o(101),i=o(102);e.exports=function(e,t,o,c,s,a){var l=1&o,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var b=-1,f=!0,m=2&o?new n:void 0;for(a.set(e,t),a.set(t,e);++b<u;){var h=e[b],g=t[b];if(c)var v=l?c(g,h,b,t,e,a):c(h,g,b,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(m){if(!r(t,(function(e,t){if(!i(m,t)&&(h===e||s(h,e,o,c,a)))return m.push(t)}))){f=!1;break}}else if(h!==g&&!s(h,g,o,c,a)){f=!1;break}}return a.delete(e),a.delete(t),f}},function(e,t,o){var n=o(116),r=o(17),i=Object.prototype,c=i.hasOwnProperty,s=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(e){return r(e)&&c.call(e,"callee")&&!s.call(e,"callee")};e.exports=a},function(e,t,o){(function(e){var n=o(13),r=o(117),i=t&&!t.nodeType&&t,c=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=c&&c.exports===i?n.Buffer:void 0,a=(s?s.isBuffer:void 0)||r;e.exports=a}).call(this,o(50)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,o){var n=o(118),r=o(119),i=o(120),c=i&&i.isTypedArray,s=c?r(c):n;e.exports=s},function(e,t,o){var n=o(32);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(o){return null!=o&&(o[e]===t&&(void 0!==t||e in Object(o)))}}},function(e,t,o){var n=o(56),r=o(27);e.exports=function(e,t){for(var o=0,i=(t=n(t,e)).length;null!=e&&o<i;)e=e[r(t[o++])];return o&&o==i?e:void 0}},function(e,t,o){var n=o(14),r=o(37),i=o(133),c=o(136);e.exports=function(e,t){return n(e)?e:r(e,t)?[e]:i(c(e))}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,o){"use strict";var n=o(1),r=o.n(n),i=o(2),c=o.n(i),s=o(3),a=o.n(s),l=o(4),u=o.n(l),p=o(5),d=o.n(p),b=o(0),f=o(18),m=o.n(f),h=wp.data,g=h.withSelect,v=h.withDispatch,k=h.select,w=wp.compose.compose,y=wp.element,O=y.Fragment,j=y.Component,S=wp.components,C=S.withSpokenMessages,_=S.CheckboxControl,E=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},F=function(e){function t(){var e;return r()(this,t),(e=a()(this,u()(t).apply(this,arguments))).state={isOpen:!1},e}return d()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.editorSettings,o=e.onToggle,n=t.sidetrack;return void 0===n&&void 0!==window.sidetrackSettings&&(n=window.sidetrackSettings.editor_settings.sidetrack),Object(b.createElement)(O,null,m()(n,(function(e){return Object(b.createElement)("section",{className:"edit-post-options-modal__section"},Object(b.createElement)("h2",{className:"edit-post-options-modal__section-title"},e.label),Object(b.createElement)("ul",{className:"edit-post-sidetrack-manager-modal__checklist"},m()(e.items,(function(t){return Object(b.createElement)("li",{className:"edit-post-sidetrack-manager-modal__checklist-item"},Object(b.createElement)(_,{className:"edit-post-options-modal__option",label:t.label,checked:!k("core/edit-post").isFeatureActive("disableSidetrack"+E(t.name)+E(e.name)),onChange:function(){return o(e.name,t.name)}}))}))))})))}}]),t}(j);t.a=w([g((function(){return{editorSettings:k("core/editor").getEditorSettings(),preferences:k("core/edit-post").getPreferences()}})),v((function(e){return{onToggle:function(t,o){e("core/edit-post").toggleFeature("disableSidetrack"+E(o)+E(t))}}})),C])(F)},,function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t){function o(e,t,o,n,r,i,c){try{var s=e[i](c),a=s.value}catch(e){return void o(e)}s.done?t(a):Promise.resolve(a).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var c=e.apply(t,n);function s(e){o(c,r,i,s,a,"next",e)}function a(e){o(c,r,i,s,a,"throw",e)}s(void 0)}))}}},function(e,t){function o(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=o=function(e){return typeof e}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(t)}e.exports=o},function(e,t){function o(t,n){return e.exports=o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(t,n)}e.exports=o},function(e,t,o){var n=o(67),r=o(131),i=o(141),c=o(14),s=o(142);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?c(e)?r(e[0],e[1]):n(e):s(e)}},function(e,t,o){var n=o(68),r=o(130),i=o(54);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(o){return o===e||n(o,e,t)}}},function(e,t,o){var n=o(41),r=o(46);e.exports=function(e,t,o,i){var c=o.length,s=c,a=!i;if(null==e)return!s;for(e=Object(e);c--;){var l=o[c];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++c<s;){var u=(l=o[c])[0],p=e[u],d=l[1];if(a&&l[2]){if(void 0===p&&!(u in e))return!1}else{var b=new n;if(i)var f=i(p,d,u,e,t,b);if(!(void 0===f?r(d,p,3,i,b):f))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,o){var n=o(23),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,o=n(t,e);return!(o<0)&&(o==t.length-1?t.pop():r.call(t,o,1),--this.size,!0)}},function(e,t,o){var n=o(23);e.exports=function(e){var t=this.__data__,o=n(t,e);return o<0?void 0:t[o][1]}},function(e,t,o){var n=o(23);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,o){var n=o(23);e.exports=function(e,t){var o=this.__data__,r=n(o,e);return r<0?(++this.size,o.push([e,t])):o[r][1]=t,this}},function(e,t,o){var n=o(22);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,o){var n=o(22),r=o(31),i=o(33);e.exports=function(e,t){var o=this.__data__;if(o instanceof n){var c=o.__data__;if(!r||c.length<199)return c.push([e,t]),this.size=++o.size,this;o=this.__data__=new i(c)}return o.set(e,t),this.size=o.size,this}},function(e,t,o){var n=o(43),r=o(82),i=o(32),c=o(45),s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,u=a.toString,p=l.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(n(e)?d:s).test(c(e))}},function(e,t,o){var n=o(24),r=Object.prototype,i=r.hasOwnProperty,c=r.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),o=e[s];try{e[s]=void 0;var n=!0}catch(e){}var r=c.call(e);return n&&(t?e[s]=o:delete e[s]),r}},function(e,t){var o=Object.prototype.toString;e.exports=function(e){return o.call(e)}},function(e,t,o){var n,r=o(83),i=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,o){var n=o(13)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,o){var n=o(86),r=o(22),i=o(31);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}},function(e,t,o){var n=o(87),r=o(88),i=o(89),c=o(90),s=o(91);function a(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=c,a.prototype.set=s,e.exports=a},function(e,t,o){var n=o(25);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,o){var n=o(25),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return r.call(t,e)?t[e]:void 0}},function(e,t,o){var n=o(25),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}},function(e,t,o){var n=o(25);e.exports=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,o){var n=o(26);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,o){var n=o(26);e.exports=function(e){return n(this,e).get(e)}},function(e,t,o){var n=o(26);e.exports=function(e){return n(this,e).has(e)}},function(e,t,o){var n=o(26);e.exports=function(e,t){var o=n(this,e),r=o.size;return o.set(e,t),this.size+=o.size==r?0:1,this}},function(e,t,o){var n=o(41),r=o(47),i=o(103),c=o(107),s=o(125),a=o(14),l=o(49),u=o(52),p="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,b,f,m){var h=a(e),g=a(t),v=h?"[object Array]":s(e),k=g?"[object Array]":s(t),w=(v="[object Arguments]"==v?p:v)==p,y=(k="[object Arguments]"==k?p:k)==p,O=v==k;if(O&&l(e)){if(!l(t))return!1;h=!0,w=!1}if(O&&!w)return m||(m=new n),h||u(e)?r(e,t,o,b,f,m):i(e,t,v,o,b,f,m);if(!(1&o)){var j=w&&d.call(e,"__wrapped__"),S=y&&d.call(t,"__wrapped__");if(j||S){var C=j?e.value():e,_=S?t.value():t;return m||(m=new n),f(C,_,o,b,m)}}return!!O&&(m||(m=new n),c(e,t,o,b,f,m))}},function(e,t,o){var n=o(33),r=o(99),i=o(100);function c(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}c.prototype.add=c.prototype.push=r,c.prototype.has=i,e.exports=c},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,o){var n=o(24),r=o(104),i=o(42),c=o(47),s=o(105),a=o(106),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,o,n,l,p,d){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var b=s;case"[object Set]":var f=1&n;if(b||(b=a),e.size!=t.size&&!f)return!1;var m=d.get(e);if(m)return m==t;n|=2,d.set(e,t);var h=c(b(e),b(t),n,l,p,d);return d.delete(e),h;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t,o){var n=o(13).Uint8Array;e.exports=n},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},function(e,t,o){var n=o(108),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,i,c,s){var a=1&o,l=n(e),u=l.length;if(u!=n(t).length&&!a)return!1;for(var p=u;p--;){var d=l[p];if(!(a?d in t:r.call(t,d)))return!1}var b=s.get(e);if(b&&s.get(t))return b==t;var f=!0;s.set(e,t),s.set(t,e);for(var m=a;++p<u;){var h=e[d=l[p]],g=t[d];if(i)var v=a?i(g,h,d,t,e,s):i(h,g,d,e,t,s);if(!(void 0===v?h===g||c(h,g,o,i,s):v)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(f=!1)}return s.delete(e),s.delete(t),f}},function(e,t,o){var n=o(109),r=o(111),i=o(34);e.exports=function(e){return n(e,i,r)}},function(e,t,o){var n=o(110),r=o(14);e.exports=function(e,t,o){var i=t(e);return r(e)?i:n(i,o(e))}},function(e,t){e.exports=function(e,t){for(var o=-1,n=t.length,r=e.length;++o<n;)e[r+o]=t[o];return e}},function(e,t,o){var n=o(112),r=o(113),i=Object.prototype.propertyIsEnumerable,c=Object.getOwnPropertySymbols,s=c?function(e){return null==e?[]:(e=Object(e),n(c(e),(function(t){return i.call(e,t)})))}:r;e.exports=s},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,r=0,i=[];++o<n;){var c=e[o];t(c,o,e)&&(i[r++]=c)}return i}},function(e,t){e.exports=function(){return[]}},function(e,t,o){var n=o(115),r=o(48),i=o(14),c=o(49),s=o(51),a=o(52),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var o=i(e),u=!o&&r(e),p=!o&&!u&&c(e),d=!o&&!u&&!p&&a(e),b=o||u||p||d,f=b?n(e.length,String):[],m=f.length;for(var h in e)!t&&!l.call(e,h)||b&&("length"==h||p&&("offset"==h||"parent"==h)||d&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,m))||f.push(h);return f}},function(e,t){e.exports=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}},function(e,t,o){var n=o(16),r=o(17);e.exports=function(e){return r(e)&&"[object Arguments]"==n(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,o){var n=o(16),r=o(35),i=o(17),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!c[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,o){(function(e){var n=o(44),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===r&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=s}).call(this,o(50)(e))},function(e,t,o){var n=o(122),r=o(123),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=[];for(var o in Object(e))i.call(e,o)&&"constructor"!=o&&t.push(o);return t}},function(e,t){var o=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}},function(e,t,o){var n=o(124)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(o){return e(t(o))}}},function(e,t,o){var n=o(126),r=o(31),i=o(127),c=o(128),s=o(129),a=o(16),l=o(45),u=l(n),p=l(r),d=l(i),b=l(c),f=l(s),m=a;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||i&&"[object Promise]"!=m(i.resolve())||c&&"[object Set]"!=m(new c)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=a(e),o="[object Object]"==t?e.constructor:void 0,n=o?l(o):"";if(n)switch(n){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case b:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,o){var n=o(15)(o(13),"DataView");e.exports=n},function(e,t,o){var n=o(15)(o(13),"Promise");e.exports=n},function(e,t,o){var n=o(15)(o(13),"Set");e.exports=n},function(e,t,o){var n=o(15)(o(13),"WeakMap");e.exports=n},function(e,t,o){var n=o(53),r=o(34);e.exports=function(e){for(var t=r(e),o=t.length;o--;){var i=t[o],c=e[i];t[o]=[i,c,n(c)]}return t}},function(e,t,o){var n=o(46),r=o(132),i=o(138),c=o(37),s=o(53),a=o(54),l=o(27);e.exports=function(e,t){return c(e)&&s(t)?a(l(e),t):function(o){var c=r(o,e);return void 0===c&&c===t?i(o,e):n(t,c,3)}}},function(e,t,o){var n=o(55);e.exports=function(e,t,o){var r=null==e?void 0:n(e,t);return void 0===r?o:r}},function(e,t,o){var n=o(134),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,c=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,o,n,r){t.push(n?r.replace(i,"$1"):o||e)})),t}));e.exports=c},function(e,t,o){var n=o(135);e.exports=function(e){var t=n(e,(function(e){return 500===o.size&&o.clear(),e})),o=t.cache;return t}},function(e,t,o){var n=o(33);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var o=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var c=e.apply(this,n);return o.cache=i.set(r,c)||i,c};return o.cache=new(r.Cache||n),o}r.Cache=n,e.exports=r},function(e,t,o){var n=o(137);e.exports=function(e){return null==e?"":n(e)}},function(e,t,o){var n=o(24),r=o(40),i=o(14),c=o(38),s=n?n.prototype:void 0,a=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(c(t))return a?a.call(t):"";var o=t+"";return"0"==o&&1/t==-1/0?"-0":o}},function(e,t,o){var n=o(139),r=o(140);e.exports=function(e,t){return null!=e&&r(e,t,n)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,o){var n=o(56),r=o(48),i=o(14),c=o(51),s=o(35),a=o(27);e.exports=function(e,t,o){for(var l=-1,u=(t=n(t,e)).length,p=!1;++l<u;){var d=a(t[l]);if(!(p=null!=e&&o(e,d)))break;e=e[d]}return p||++l!=u?p:!!(u=null==e?0:e.length)&&s(u)&&c(d,u)&&(i(e)||r(e))}},function(e,t){e.exports=function(e){return e}},function(e,t,o){var n=o(143),r=o(144),i=o(37),c=o(27);e.exports=function(e){return i(e)?n(c(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,o){var n=o(55);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,o){var n=o(146),r=o(36);e.exports=function(e,t){var o=-1,i=r(e)?Array(e.length):[];return n(e,(function(e,n,r){i[++o]=t(e,n,r)})),i}},function(e,t,o){var n=o(147),r=o(150)(n);e.exports=r},function(e,t,o){var n=o(148),r=o(34);e.exports=function(e,t){return e&&n(e,t,r)}},function(e,t,o){var n=o(149)();e.exports=n},function(e,t){e.exports=function(e){return function(t,o,n){for(var r=-1,i=Object(t),c=n(t),s=c.length;s--;){var a=c[e?s:++r];if(!1===o(i[a],a,i))break}return t}}},function(e,t,o){var n=o(36);e.exports=function(e,t){return function(o,r){if(null==o)return o;if(!n(o))return e(o,r);for(var i=o.length,c=t?i:-1,s=Object(o);(t?c--:++c<i)&&!1!==r(s[c],c,s););return o}}},function(e,t,o){"use strict";var n=o(152);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,i,c){if(c!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(e,t){!function(){e.exports=this.wp.wordcount}()},,function(e,t){e.exports=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}},function(e,t){var o=wp.data.select;wp.domReady((function(){if(document.body.classList.contains("sidetrack-body-class-on")){var e=document.querySelector(".editor-page-attributes__template select"),t=document.querySelectorAll(".genesis-layout-selector input"),n=o("core/editor").getEditedPostAttribute("type"),r=n+"-template-";e&&e.addEventListener("change",(function(){var t=document.body.className.split(" ").filter((function(e){return!e.startsWith(r)})),o=e.options[e.selectedIndex].value;o||(o="default"),o=o.split("/").join("-"),document.body.className=t.join(" ").trim(),document.body.classList.add(r+o.split(".").join("-"))})),t&&function(){for(var e="default-layout",o=n+"-layout-",r=0,i=t.length;r<i;r++)t[r].addEventListener("change",(function(){if(this.getAttribute("id")!==e){var t=document.body.className.split(" ").filter((function(e){return!e.startsWith(o)}));e=this.getAttribute("id"),document.body.className=t.join(" ").trim(),document.body.classList.add(o+e.split(".").join("-"))}}))}()}}))},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var o=[],n=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(o.push(c.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){var o=wp.hooks.addFilter,n=wp.blocks.createBlock,r=["core/cover"];o("blocks.registerBlockType","sidetrack/transform/group",(function(e){if(void 0!==e.transforms!=="undefined"&&r.includes(e.name)){var t=e.transforms;void 0===t.from&&(t.from=[]);var o={type:"block",blocks:["core/group"],__experimentalConvert:function(e){void 0!==e.attributes.backgroundColor&&(e.attributes.overlayColor=e.attributes.backgroundColor),void 0!==e.attributes.customBackgroundColor&&(e.attributes.customOverlayColor=e.attributes.customBackgroundColor);var t=e.innerBlocks.map((function(e){return n(e.name,e.attributes,e.innerBlocks)}));return n("core/cover",e.attributes,t)}};t.from.push(o),e.transforms=t}return e}))},function(e,t){var o=wp.hooks.addFilter,n=wp.blocks.hasBlockSupport,r=["core/image","core/gallery","core/video","core/audio","core-embed","core-embed/youtube","core-embed/twitter","core-embed/facebook","core-embed/instagram","core-embed/wordpress","core-embed/soundcloud","core-embed/spotify","core-embed/flickr","core-embed/vimeo","core-embed/animoto","core-embed/cloudup","core-embed/collegehumor","core-embed/crowdsignal","core-embed/dailymotion","core-embed/hulu","core-embed/imgur","core-embed/issuu","core-embed/kickstarter","core-embed/meetup-com","core-embed/mixcloud","core-embed/reddit","core-embed/reverbnation","core-embed/screencast","core-embed/scribd","core-embed/slideshare","core-embed/smugmug","core-embed/speaker-deck","core-embed/ted","core-embed/tumblr","core-embed/videopress","core-embed/wordpress-tv","core-embed/amazon-kindle","core/table"];o("blocks.registerBlockType","sidetrack/alignment/attributes",(function(e){return void 0!==e.attributes&&(r.includes(e.name)||n(e.name,"editorsKitCaptionAlignment"))&&(e.attributes=Object.assign(e.attributes,{captionAlignment:{type:"string"}})),e}))},function(e,t){var o=wp.i18n.__,n=wp.blocks.registerBlockStyle;["core/image","core/cover"].forEach((function(e){n(e,{name:"default",label:o("Default","blockshop-options"),isDefault:!0}),n(e,{name:"sidetrack-circular",label:o("Circular","blockshop-options"),isDefault:!1}),n(e,{name:"sidetrack-rounded",label:o("Rounded Corners","blockshop-options"),isDefault:!1}),n(e,{name:"sidetrack-diagonal",label:o("Diagonal","blockshop-options"),isDefault:!1}),n(e,{name:"sidetrack-inverted-diagonal",label:o("Inverted Diagonal","blockshop-options"),isDefault:!1}),n(e,{name:"sidetrack-shadow",label:o("Shadow","blockshop-options"),isDefault:!1})}))},function(e,t){var o=wp.i18n.__,n=wp.blocks.registerBlockStyle;n("core/list",{name:"default",label:o("Default","blockshop-options"),isDefault:!0}),n("core/list",{name:"none",label:o("None","blockshop-options"),isDefault:!0}),n("core/list",{name:"arrow",label:o("Arrow","blockshop-options"),isDefault:!1}),n("core/list",{name:"checked",label:o("Checked","blockshop-options"),isDefault:!1}),n("core/list",{name:"crossed",label:o("Crossed","blockshop-options"),isDefault:!1}),n("core/list",{name:"connected",label:o("Connected","blockshop-options"),isDefault:!1}),n("core/list",{name:"starred",label:o("Starred","blockshop-options"),isDefault:!1})},,,,,,,,,,,,function(e,t,o){"use strict";o.r(t);var n={};o.r(n),o.d(n,"name",(function(){return Zv})),o.d(n,"title",(function(){return Xv})),o.d(n,"icon",(function(){return Gv})),o.d(n,"settings",(function(){return tk}));var r=o(9),i=o.n(r),c=o(12),s=o.n(c),a=o(0),l=o(10),u=o.n(l);function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var d=wp.hooks.addFilter,b=wp.element.Fragment,f=wp.compose.createHigherOrderComponent,m=wp.blocks.hasBlockSupport,h=["core/freeform","core/shortcode","core/nextpage"],g=["core/image","core/cover","core/group","core/columns","core/media-text"],v=["core/list"],k=["core/list"],w=["core/spacer","core/separator"],y=["core/columns","core/column"],O=["core/button"];var j=f((function(e){return function(t){var o=t.attributes;return void 0===o.sidetrack&&(o.sidetrack=[]),Object(a.createElement)(b,null,Object(a.createElement)(e,t))}}),"withAttributes");var S=f((function(e){return function(t){var o=t.name,n=t.attributes,r=n.isHeightFullScreen,c=n.isFullWidth,l=t.wrapperProps,u={};return m(o,"hasHeightFullScreen")&&r&&(u=Object.assign(u,{"data-sidetrack-h-screen":1})),m(o,"hasFullWidthDisplay")&&c&&(u=Object.assign(u,{"data-sidetrack-w-full":1})),l=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},l,{},u),Object(a.createElement)(e,s()({},t,{wrapperProps:l}))}}),"addEditorBlockAttributes");d("blocks.registerBlockType","sidetrack/custom/attributes",(function(e){return void 0===e.attributes||h.includes(e.name)||(e.attributes=Object.assign(e.attributes,{sidetrack:{type:"object",default:{devices:!1,desktop:!0,tablet:!0,mobile:!0,loggedin:!0,loggedout:!0,acf_visibility:"",acf_field:"",acf_condition:"",acf_value:"",migrated:!1,unit_test:!1}}}),e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}}),g.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasHeightFullScreen:!0})),m(e,"hasHeightFullScreen")&&void 0!==e.attributes&&(e.attributes.isHeightFullScreen||(e.attributes=Object.assign(e.attributes,{isHeightFullScreen:{type:"boolean",default:!1}}))),O.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasFullWidthDisplay:!0})),m(e,"hasFullWidthDisplay")&&void 0!==e.attributes&&(e.attributes.isFullWidth||(e.attributes=Object.assign(e.attributes,{isFullWidth:{type:"boolean",default:!1}}))),v.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"number"}})),k.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{bulletColor:{type:"string"}})),y.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{backgroundColor:{type:"string"},customBackgroundColor:{type:"string"}})),w.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{anchor:!0}))),e})),d("editor.BlockEdit","sidetrack/attributes",j),d("blocks.getSaveContent.extraProps","sidetrack/applyExtraClass",(function(e,t,o){var n=o.sidetrack,r=o.isHeightFullScreen,i=o.isFullWidth;return void 0===n||h.includes(t.name)||(void 0!==n.id&&(e.className=u()(e.className,n.id)),void 0===n.desktop||n.desktop||(e.className=u()(e.className,"sidetrack-no-desktop")),void 0===n.tablet||n.tablet||(e.className=u()(e.className,"sidetrack-no-tablet")),void 0===n.mobile||n.mobile||(e.className=u()(e.className,"sidetrack-no-mobile"))),m(t.name,"hasHeightFullScreen")&&r&&(e.className=u()(e.className,"h-screen")),m(t.name,"hasFullWidthDisplay")&&i&&(e.className=u()(e.className,"ek-w-full")),e})),d("editor.BlockListBlock","sidetrack/addEditorBlockAttributes",S);var C=o(21),E=o.n(C),F=wp.i18n.__,x=wp.compose.compose,D=wp.data.withSelect,A=wp.element.Fragment,P=wp.blockEditor,T=P.InspectorControls,N=P.FontSizePicker,B=P.withFontSizes,I=P.withColors,L=P.PanelColorSettings,M=wp.components,R=M.PanelBody,z=(0,M.withFallbackStyles)((function(e,t){var o=t.attributes,n=o.fontSize,r=o.customFontSize,i=o.textColor,c=e.querySelector('[contenteditable="true"]'),s=c?getComputedStyle(c):null;return{fallbackTextColor:i||!s?void 0:s.color,fallbackFontSize:n||r||!s?void 0:parseInt(s.fontSize)||void 0}})),U=x([D((function(e){return{isFontSizeDisabled:e("core/edit-post").isFeatureActive("disableSidetrackListBlockFontSizeOptions"),isTextColorDisabled:e("core/edit-post").isFeatureActive("disableSidetrackListBlockTextColorOptions")}})),I({textColor:"color"}),B("fontSize"),z])((function(e){var t=e.fallbackFontSize,o=e.fontSize,n=e.setFontSize,r=e.textColor,i=e.setTextColor,c=e.bulletColor,s=e.isFontSizeDisabled,l=e.isTextColorDisabled,u=e.setAttributes;return Object(a.createElement)(A,null,Object(a.createElement)(T,null,!s&&Object(a.createElement)(R,{title:F("Text Settings","blockshop-options"),initialOpen:!1,className:"sidetrack-panel"},Object(a.createElement)(N,{fallbackFontSize:t,value:o.size,onChange:n})),!l&&Object(a.createElement)(L,{title:F("Color Settings","blockshop-options"),initialOpen:!1,colorSettings:[{value:r.color,onChange:i,label:F("Text Color","blockshop-options")},{value:c,onChange:function(e){return u({bulletColor:e})},label:F("Bullet/Icon Color","blockshop-options")}]})))})),H=wp.i18n.__,W=wp.compose,V=W.compose,q=W.ifCondition,K=wp.data.withSelect,J=wp.element.Fragment,G=wp.blockEditor,$=G.InspectorControls,Y=G.withColors,Q=G.PanelColorSettings,Z=(0,wp.components.withFallbackStyles)((function(e,t){var o=t.attributes.backgroundColor,n=e.querySelector('[contenteditable="true"]'),r=n?getComputedStyle(n):null;return{fallbackBackgroundColor:o||!r?void 0:r.backgroundColor}})),X=V([K((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackColumnsBackgroundOptions")}})),Y({backgroundColor:"color"}),Z,q((function(e){return!e.isDisabled}))])((function(e){var t=e.backgroundColor,o=e.setBackgroundColor,n=e.isTextColorDisabled;return Object(a.createElement)(J,null,Object(a.createElement)($,null,!n&&Object(a.createElement)(Q,{title:H("Color Settings","blockshop-options"),initialOpen:!1,colorSettings:[{value:t.color,onChange:o,label:H("Background Color","blockshop-options")}]})))})),ee=o(6);var te=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.fontSizes,r=o.colors,i=e.textColor,c=e.customTextColor,s=e.backgroundColor,a=e.customBackgroundColor,l=e.bulletColor,u=e.fontSize,p=e.customFontSize,d=e.start,b={};if(void 0!==u){var f=Object(ee.find)(n,{slug:u});void 0!==f&&void 0!==f.size&&(b.fontSize=f.size+"px")}else void 0!==p&&(b.fontSize=p+"px");if(void 0!==i){if(void 0!==r){var m=Object(ee.find)(r,{slug:i});void 0!==m&&void 0!==m.color&&(b.color=m.color)}}else void 0!==c&&(b.color=c);if(void 0!==s){if(void 0!==r){var h=Object(ee.find)(r,{slug:s});void 0!==h&&void 0!==h.color&&(b.backgroundColor=h.color)}}else void 0!==a&&(b.backgroundColor=a);return void 0!==l&&(b["--ek-bullet-color"]=l,["core/list"].includes(t)&&void 0!==d&&(b["--li-start"]=d-1+"")),b};function oe(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var ne=wp.hooks.addFilter,re=wp.element.Fragment,ie=wp.data.withSelect,ce=wp.compose,se=ce.compose,ae=ce.createHigherOrderComponent,le=["core/list"],ue=["core/columns","core/column"],pe=se(ie((function(e){var t=e("core/block-editor").getSettings();return{fontSizes:t.fontSizes,colors:t.colors,selected:e("core/block-editor").getSelectedBlock(),select:e,isDisabledListTextSettings:e("core/edit-post").isFeatureActive("disableSidetrackDevicesVisibility")}}))),de=ae((function(e){return pe((function(t){var o=t.select,n=E()(t,["select"]),r=n.wrapperProps,c={},l=o("core/block-editor").getBlock(n.clientId).attributes,u=o("core/block-editor").getBlockName(n.clientId);if(le.includes(u)||ue.includes(u)){var p=l.customFontSize,d=l.fontSize,b=l.bulletColor;(p||d)&&(c=Object.assign(c,{"data-custom-fontsize":1})),b&&(c=Object.assign(c,{"data-custom-bulletcolor":1})),r=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?oe(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):oe(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},r,{style:te(l,u,n)},c)}return Object(a.createElement)(e,s()({},n,{wrapperProps:r}))}))}),"withTextSettings");ne("editor.BlockEdit","sidetrack/block-panel",ae((function(e){return pe((function(t){var o=s()({},t),n=o.name,r=o.isSelected,i=o.isDisabledListTextSettings;return Object(a.createElement)(re,null,Object(a.createElement)(e,o),r&&!i&&le.includes(n)&&Object(a.createElement)(U,o),r&&!i&&ue.includes(n)&&Object(a.createElement)(X,o))}))}),"withBlockPanel")),ne("editor.BlockListBlock","sidetrack/withTextSettings",de),ne("blocks.getSaveContent.extraProps","sidetrack/applyTextSettings",(function(e,t,o){if(le.includes(t.name)||ue.includes(t.name)){void 0!==e.style?e.style=Object.assign(e.style,te(o,t.name)):e.style=te(o,t.name);var n=o.customFontSize,r=o.fontSize,i=o.textColor,c=o.backgroundColor,s=o.bulletColor;r?e.className=u()(e.className,"has-"+r+"-font-size"):n&&(e.className=u()(e.className,"has-custom-size")),i&&(e.className=u()(e.className,"has-"+i+"-color")),c&&(e.className=u()(e.className,"has-"+c+"-background-color")),s&&(e.className=u()(e.className,"has-list-bullet-color"))}return e}));var be=wp.i18n.__,fe=wp.hooks,me=fe.addFilter,he=fe.removeFilter,ge=wp.element.Fragment,ve=wp.data,ke=ve.withSelect,we=ve.select,ye=wp.compose,Oe=ye.compose,je=ye.createHigherOrderComponent,Se=ye.withState,Ce=wp.blocks.hasBlockSupport,_e=wp.blockEditor.InspectorAdvancedControls,Ee=wp.components.FormTokenField,Fe=Oe(Se({customClassNames:[]}),ke((function(e,t){var o=e("core/block-editor").getSelectedBlock(),n=Object(ee.get)(o,"attributes.className");return n&&(n=Object(ee.replace)(n,","," ")),o&&n&&Object(ee.join)(t.customClassNames," ")!==n&&t.clientId===o.clientId&&t.setState({customClassNames:Object(ee.split)(n," ")}),{suggestions:e("core/editor").getEditorSettings().sidetrackCustomClassNames}}))),xe=je((function(e){return Fe((function(t){var o=s()({},t),n=Ce(o.name,"customClassName",!0),r=o.customClassNames,i=o.suggestions,c=o.setState;return n&&o.isSelected?Object(a.createElement)(ge,null,Object(a.createElement)(e,o),Object(a.createElement)(_e,null,Object(a.createElement)(Ee,{label:be("Additional CSS Class(es)","blockshop-options"),value:r,suggestions:i,maxSuggestions:20,onChange:function(e){o.setAttributes({className:""!==e?Object(ee.join)(e," "):void 0}),c({customClassNames:""!==e?e:void 0})}}))):Object(a.createElement)(e,o)}))}),"withInspectorControl");we("core/edit-post").isFeatureActive("disableSidetrackCustomClassNamesTools")||(he("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),me("editor.BlockEdit","sidetrack/custom-class-name/with-inspector-control",xe));var De=wp.i18n.__,Ae=wp.data.dispatch,Pe=wp.element.Fragment,Te=wp.components.ToggleControl,Ne=function(e){var t=e.clientId,o=e.attributes,n=e.reloadModal,r=o.sidetrack,c=function(e){var o=!r[e];delete r[e];var c=Object.assign(i()({},e,o),r);Ae("core/block-editor").updateBlockAttributes(t,{sidetrack:c}),n&&n()};if(void 0!==r)return Object(a.createElement)(Pe,null,Object(a.createElement)(Te,{label:De("Hide on Desktop","blockshop-options"),checked:void 0!==r.desktop&&!r.desktop,onChange:function(){return c("desktop")}}),Object(a.createElement)(Te,{label:De("Hide on Tablet","blockshop-options"),checked:void 0!==r.tablet&&!r.tablet,onChange:function(){return c("tablet")}}),Object(a.createElement)(Te,{label:De("Hide on Mobile","blockshop-options"),checked:void 0!==r.mobile&&!r.mobile,onChange:function(){return c("mobile")}}))},Be=wp.i18n.__,Ie=wp.data.dispatch,Le=wp.element.Fragment,Me=wp.components.ToggleControl,Re=function(e){var t=e.clientId,o=e.attributes,n=e.reloadModal,r=o.sidetrack,c=function(e){var o=!r[e];delete r[e];var c=Object.assign(i()({},e,o),r);Ie("core/block-editor").updateBlockAttributes(t,{sidetrack:c}),n&&n()};if(void 0!==r)return Object(a.createElement)(Le,null,Object(a.createElement)("div",{className:"sidetrack-user-state-controls"},Object(a.createElement)("hr",{className:"sidetrack-divider"}),Object(a.createElement)(Me,{label:Be("Hide on Loggedin Users","blockshop-options"),help:r.loggedin?Be("Toggle to hide this block when users are not logged in.","blockshop-options"):Be("Hidden when users are logged in.","blockshop-options"),checked:void 0!==r.loggedin&&!r.loggedin,onChange:function(){return c("loggedin")}}),Object(a.createElement)(Me,{label:Be("Hide on Loggedout Users","blockshop-options"),help:r.loggedout?Be("Toggle to hide this block when users are guests or logged out.","blockshop-options"):Be("Hidden on guests or logged out users.","blockshop-options"),checked:void 0!==r.loggedout&&!r.loggedout,onChange:function(){return c("loggedout")}})))},ze=wp.i18n.__,Ue=wp.element.Fragment,He=wp.components.ToggleControl,We=function(e){var t=e.attributes,o=e.setAttributes,n=t.isHeightFullScreen;return Object(a.createElement)(Ue,null,Object(a.createElement)(He,{label:ze("Full Screen Height","blockshop-options"),checked:!!n,onChange:function(){return o({isHeightFullScreen:!n})},help:ze(n?"Full screen height is enabled.":"Toggle to display this block's height full screen of the browser viewport.","blockshop-options")}))},Ve=wp.i18n.__,qe=wp.element.Fragment,Ke=wp.components.ToggleControl,Je=function(e){var t=e.attributes,o=e.setAttributes,n=t.isFullWidth;return Object(a.createElement)(qe,null,Object(a.createElement)(Ke,{label:Ve("Full Width Display","blockshop-options"),checked:!!n,onChange:function(){return o({isFullWidth:!n})},help:Ve(n?"Full width display is enabled.":"Toggle to display this block's as full width.","blockshop-options")}))},Ge=wp.i18n.__,$e=wp.hooks.addFilter,Ye=wp.element.Fragment,Qe=wp.data,Ze=Qe.withSelect,Xe=Qe.select,et=wp.blockEditor,tt=et.InspectorAdvancedControls,ot=et.InspectorControls,nt=wp.compose,rt=nt.compose,it=nt.createHigherOrderComponent,ct=wp.components.PanelBody,st=wp.blocks.hasBlockSupport,at=["core/block","core/freeform","core/shortcode","core/template","core/nextpage","sidetrack/import"],lt=rt(Ze((function(){return{isDisabledButtonWidth:Xe("core/edit-post").isFeatureActive("disableSidetrackButtonFullwidthOptions"),isDisabledDevices:Xe("core/edit-post").isFeatureActive("disableSidetrackDevicesVisibility"),isDisabledUserState:Xe("core/edit-post").isFeatureActive("disableSidetrackUserStateVisibility")}})));$e("editor.BlockEdit","sidetrack/advanced",it((function(e){return lt((function(t){var o=s()({},t),n=o.name,r=o.attributes,i=o.setAttributes,c=o.isSelected,l=o.isDisabledDevices,u=o.isDisabledUserState,p=o.isDisabledButtonWidth,d=r.sidetrack,b=r.blockOpts,f=st(n,"hasHeightFullScreen"),m=st(n,"hasFullWidthDisplay");if(void 0!==d&&!d.migrated&&b){o.attributes.sidetrack=Object.assign(o.attributes.sidetrack,{devices:!1,desktop:!("show"===b.devices&&"on"!==b.desktop||"hide"===b.devices&&"on"===b.desktop),tablet:!("show"===b.devices&&"on"!==b.tablet||"hide"===b.devices&&"on"===b.tablet),mobile:!("show"===b.devices&&"on"!==b.mobile||"hide"===b.devices&&"on"===b.mobile),loggedin:"out"!==b.state||"in"===b.state,loggedout:"in"!==b.state||"out"===b.state,acf_visibility:b.acf_visibility?b.acf_visibility:"",acf_field:b.acf_field?b.acf_field:"",acf_condition:b.acf_condition?b.acf_condition:"",acf_value:b.acf_value?b.acf_value:"",logic:b.logic?b.logic:"",migrated:!0}),o.attributes.className||(o.attributes.className="");var h=o.attributes.className.replace("b"+b.id,"").replace("wpblockshop-show","").replace("wpblockshop-hide","").replace("wpblockshop-desktop","").replace("wpblockshop-tablet","").replace("wpblockshop-mobile","");h=h.trim(),o.attributes.className=h,i({sidetrack:o.attributes.sidetrack,className:h})}return Object(a.createElement)(Ye,null,Object(a.createElement)(e,o),f&&Object(a.createElement)(tt,null,We(o)),!p&&m&&Object(a.createElement)(tt,null,Je(o)),c&&!l&&!at.includes(n)&&Object(a.createElement)(ot,null,Object(a.createElement)(ct,{title:Ge("Responsive","blockshop-options"),initialOpen:!1,className:"sidetrack-panel"},Object(a.createElement)("small",null,Ge("Attention: The display settings (show/hide for mobile, tablet or desktop) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","blockshop-options")),Ne(o))),c&&!at.includes(n)&&Object(a.createElement)(tt,null,!u&&Re(o)))}))}),"withAdvancedControls"));o(157);var ut=o(1),pt=o.n(ut),dt=o(2),bt=o.n(dt),ft=o(3),mt=o.n(ft),ht=o(4),gt=o.n(ht),vt=o(7),kt=o.n(vt),wt=o(5),yt=o.n(wt),Ot=wp.i18n.__,jt=wp.element.Component,St=wp.compose,Ct=St.compose,_t=St.ifCondition,Et=wp.editPost.PluginPostStatusInfo,Ft=wp.data,xt=Ft.select,Dt=Ft.withSelect,At=Ft.withDispatch,Pt=wp.components,Tt=Pt.withSpokenMessages,Nt=Pt.CheckboxControl,Bt=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).initialize=e.initialize.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this.props,t=e.isDisabled,o=e.postmeta;if(document.querySelector(".editor-post-title__block")){var n=void 0!==o&&void 0!==o._sidetrack_title_hidden&&o._sidetrack_title_hidden,r=n?"sidetrack-title-hidden":"sidetrack-title-visible";n?document.body.classList.remove("sidetrack-title-visible"):document.body.classList.remove("sidetrack-title-hidden"),document.body.classList.add(r),t?document.body.classList.add("sidetrack-title-visible-disabled"):document.body.classList.remove("sidetrack-title-visible-disabled")}}},{key:"render",value:function(){var e=this.props,t=e.onToggle,o=e.postmeta,n=e.posttype;if(["wp_block"].includes(n))return!1;var r=void 0!==o&&void 0!==o._sidetrack_title_hidden&&o._sidetrack_title_hidden;return Object(a.createElement)(Et,null,Object(a.createElement)(Nt,{className:"sidetrack-hide-title-label",label:Ot("Hide "+n+" Title","blockshop-options"),checked:r,onChange:t,help:r?Ot("Title is hidden on your website.","blockshop-options"):null}))}}]),t}(jt),It=Ct(Dt((function(){return{posttype:xt("core/editor").getEditedPostAttribute("type"),postmeta:xt("core/editor").getEditedPostAttribute("meta"),isDisabled:xt("core/edit-post").isFeatureActive("disableSidetrackToggleTitleTools")}})),At((function(e,t){var o;return void 0!==t.postmeta&&void 0!==t.postmeta._sidetrack_title_hidden&&(o=t.postmeta._sidetrack_title_hidden),{onToggle:function(){e("core/editor").editPost({meta:{_sidetrack_title_hidden:!o}})}}})),_t((function(e){return!e.isDisabled})),Tt)(Bt);(0,wp.plugins.registerPlugin)("sidetrack-disable-title",{icon:!1,render:It});var Lt=wp.i18n.__,Mt=wp.data,Rt=Mt.withSelect,zt=Mt.withDispatch,Ut=Mt.dispatch,Ht=Mt.select,Wt=wp.compose.compose,Vt=wp.element,qt=Vt.Fragment,Kt=Vt.Component,Jt=wp.editPost.PluginMoreMenuItem,Gt=wp.components.withSpokenMessages,$t=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".edit-post-header__settings"),t='<span class="sidetrack-auto-save-disabled--label">'+Lt("Auto Save Disabled","blockshop-options")+"</span>";e.insertAdjacentHTML("afterbegin",t),this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isAvailable,o=e.isActive,n=e.isDisabled,r=e.editorSettings,i=60,c=document.querySelector(".sidetrack-auto-save-disabled--label");if(o||n||void 0===t||(i=259200),r.autosaveInterval!==i){var s=Object.assign(this.props.editorSettings,{autosaveInterval:i});Ut("core/editor").updateEditorSettings(s),Ut("core/editor").refreshPost()}c.className="sidetrack-auto-save-disabled--label sidetrack-auto-save-disabled--"+i}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,o=e.onToggle,n=e.editorSettings;if(t)return null;var r=this.props.isActive;return 259200!==n.autosaveInterval&&(r=!0),Object(a.createElement)(qt,null,Object(a.createElement)(Jt,{icon:r&&"yes",role:"menuitemcheckbox",info:Lt("Toggle to disable or enable editor autosaving feature.","blockshop-options"),onClick:o},Lt("Auto Save","blockshop-options")))}}]),t}(Kt),Yt=Wt([Rt((function(){return{isAvailable:Ht("core/edit-post").getPreference("features").sidetrackAutoSave,isActive:Ht("core/edit-post").isFeatureActive("sidetrackAutoSave"),isDisabled:Ht("core/edit-post").isFeatureActive("disableSidetrackAutosaveTools"),editorSettings:Ht("core/editor").getEditorSettings()}})),zt((function(){return{onToggle:function(){Ut("core/edit-post").toggleFeature("sidetrackAutoSave")}}})),Gt])($t);(0,wp.plugins.registerPlugin)("sidetrack-editor-autosave",{icon:!1,render:Yt});var Qt=wp.i18n.__,Zt=wp.data,Xt=Zt.withSelect,eo=Zt.withDispatch,to=wp.compose.compose,oo=wp.element,no=oo.Fragment,ro=oo.Component,io=wp.editPost.PluginMoreMenuItem,co=wp.components.withSpokenMessages,so=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,o=e.isDisabled;t&&!o?document.body.classList.add("is-guide-lines-on"):document.body.classList.remove("is-guide-lines-on")}},{key:"render",value:function(){var e=this.props,t=e.isActive,o=e.onToggle;return e.isDisabled?null:Object(a.createElement)(no,null,Object(a.createElement)(io,{icon:t&&"yes",role:"menuitemcheckbox",info:Qt("Show visible guide lines on title and blocks","blockshop-options"),onClick:o},Qt("Block Guide Lines","blockshop-options")))}}]),t}(ro),ao=to([Xt((function(e){return{isActive:e("core/edit-post").isFeatureActive("blockGuideLines"),isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackGuidelinesTools")}})),eo((function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("blockGuideLines")}}})),co])(so);(0,wp.plugins.registerPlugin)("sidetrack-block-guidelines",{icon:!1,render:ao});var lo=wp.i18n.__,uo=wp.data,po=uo.withSelect,bo=uo.withDispatch,fo=wp.compose.compose,mo=wp.element,ho=mo.Fragment,go=mo.Component,vo=wp.editPost.PluginMoreMenuItem,ko=wp.components.withSpokenMessages,wo=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,o=e.isDisabled;t&&!o?document.body.classList.add("is-editorkit-height-on"):document.body.classList.remove("is-editorkit-height-on")}},{key:"render",value:function(){var e=this.props,t=e.isActive,o=e.onToggle;return e.isDisabled?null:Object(a.createElement)(ho,null,Object(a.createElement)(vo,{icon:t&&"yes",role:"menuitemcheckbox",info:lo("Toggle to change editor min-height similar to browser viewport.","blockshop-options"),onClick:o},lo("Editor Height","blockshop-options")))}}]),t}(go),yo=fo([po((function(e){return{isActive:e("core/edit-post").isFeatureActive("editorMinHeight"),isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackHeightTools")}})),bo((function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("editorMinHeight")}}})),ko])(wo);(0,wp.plugins.registerPlugin)("sidetrack-editor-height",{icon:!1,render:yo});var Oo=wp.i18n.__,jo=[{title:Oo("Markdown Formatting","blockshop-options"),shortcuts:[{keyCombination:["##","SPACE"],description:Oo("Large header (h2)","blockshop-options")},{keyCombination:["###","SPACE"],description:Oo("Medium header (h3)","blockshop-options")},{keyCombination:["####","SPACE"],description:Oo("Small header (h4)","blockshop-options")},{keyCombination:["1.","SPACE"],description:Oo("Numbered list","blockshop-options")},{keyCombination:["*","SPACE"],description:Oo("Bulleted list","blockshop-options")},{keyCombination:[">","SPACE"],description:Oo("Blockquote","blockshop-options")},{keyCombination:["_italic_"],description:Oo("Italic","blockshop-options")},{keyCombination:["*bold*"],description:Oo("Bold","blockshop-options")},{keyCombination:["~Strikethrough~"],description:Oo("Strikethrough","blockshop-options")},{keyCombination:["`code`"],description:Oo("Code","blockshop-options")}]}],So=wp.i18n.__,Co=wp.element,_o=Co.Fragment,Eo=Co.Component,Fo=wp.editPost.PluginMoreMenuItem,xo=wp.compose,Do=xo.compose,Ao=xo.ifCondition,Po=wp.data,To=Po.select,No=Po.withSelect,Bo=wp.components,Io=Bo.withSpokenMessages,Lo=Bo.Modal,Mo=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isOpen:!1},e}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this,t=function(e){var t=e.shortcuts;return Object(a.createElement)("dl",{className:"edit-post-keyboard-shortcut-help__shortcut-list"},t.map((function(e,t){var o=e.keyCombination,n=e.description,r=e.ariaLabel;return Object(a.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut",key:t},Object(a.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-description"},n),Object(a.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-term"},Object(a.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help__shortcut-key-combination","aria-label":r},function(e){return e.map((function(e,t){return"+"===e?Object(a.createElement)(_o,{key:t},e):Object(a.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help__shortcut-key"},e)}))}(Object(ee.castArray)(o)))))})))},o=function(e){var o=e.title,n=e.shortcuts;return Object(a.createElement)("section",{className:"edit-post-keyboard-shortcut-help__section"},Object(a.createElement)("h2",{className:"edit-post-keyboard-shortcut-help__section-title"},o),Object(a.createElement)(t,{shortcuts:n}))};return Object(a.createElement)(_o,null,Object(a.createElement)(Fo,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},So("Markdown Formatting","blockshop-options")),this.state.isOpen?Object(a.createElement)(Lo,{title:So("Keyboard Shortcuts","blockshop-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:So("Close","blockshop-options"),icon:null,className:"sidetrack-modal-component components-modal--sidetrack-markdown"},jo.map((function(e,t){return Object(a.createElement)(o,s()({key:t},e))}))):null)}}]),t}(Eo),Ro=Do(No((function(){return{isDisabled:To("core/edit-post").isFeatureActive("disableSidetrackMarkdownWriting")}})),Ao((function(e){return!e.isDisabled})),Io)(Mo);(0,wp.plugins.registerPlugin)("sidetrack-markdown-formatting",{icon:!1,render:Ro});var zo=wp.i18n.__,Uo=wp.data.withSelect,Ho=wp.compose.compose,Wo=wp.element,Vo=Wo.Fragment,qo=Wo.Component,Ko=wp.editPost.PluginMoreMenuItem,Jo=wp.components.withSpokenMessages,Go=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,o=e.isDisabled;return!t||o?null:Object(a.createElement)(Vo,null,Object(a.createElement)(Ko,{role:"menuitemcheckbox",onClick:function(){var e=document.querySelectorAll(".edit-post-layout__metaboxes");e[0]&&e[0].scrollIntoView()}},zo("View Custom Fields","blockshop-options")))}}]),t}(qo),$o=Ho([Uo((function(e){return{isActive:e("core/editor").getEditorSettings().enableCustomFields,isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackScrollDownTools")}})),Jo])(Go);(0,wp.plugins.registerPlugin)("sidetrack-scrolldown",{icon:!1,render:$o});var Yo=o(60),Qo=wp.i18n.__,Zo=wp.compose.compose,Xo=wp.element,en=Xo.Fragment,tn=Xo.Component,on=wp.editPost.PluginMoreMenuItem,nn=wp.components,rn=nn.withSpokenMessages,cn=nn.Modal,sn=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isOpen:!1},e}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this;return Object(a.createElement)(en,null,Object(a.createElement)(on,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},Qo("Sidetrack Settings","blockshop-options")),this.state.isOpen?Object(a.createElement)(cn,{title:Qo("Sidetrack Features Manager","blockshop-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Qo("Close","blockshop-options"),icon:null,className:"sidetrack-modal-component components-modal--sidetrack-features-manager"},Object(a.createElement)(Yo.a,null)):null)}}]),t}(tn),an=Zo([rn])(sn);(0,wp.plugins.registerPlugin)("sidetrack-features-manager",{icon:!1,render:an});var ln=wp.data,un=ln.withSelect,pn=ln.dispatch,dn=wp.compose.compose,bn=wp.blocks.parse,fn=wp.element.Component,mn=wp.components.withSpokenMessages,hn=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isLoaded:!1},e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"addCodeMirror",value:function(){var e=this.props,t=e.isDisabled,o=e.editorMode;if(t)return null;if("text"!==o||this.state.isLoaded)"visual"===o&&this.state.isLoaded&&this.setState({isLoaded:!1});else{var n=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};document.body.classList.add("sidetrack-editor-loaded"),n.codemirror=_.extend({},n.codemirror,{mode:"text/html",lineNumbers:!0,indentUnit:2,tabSize:2,height:"auto",lineWrapping:!0,scrollbarStyle:"null"});var r=document.querySelector(".editor-post-text-editor"),i=wp.codeEditor.initialize(r,n);i.codemirror.on("change",(function(e){var t=e.getValue();r.innerHTML=t,pn("core/editor").editPost({content:t})})),i.codemirror.on("blur",(function(e){var t=e.getValue(),o=bn(t);pn("core/editor").resetEditorBlocks(o)})),this.setState({isLoaded:!0})}}},{key:"render",value:function(){return null}}]),t}(fn),gn=dn([un((function(e){return{readyState:document.readyState,isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackCodeHighlightTools"),editorMode:e("core/edit-post").getEditorMode()}})),mn])(hn);(0,wp.plugins.registerPlugin)("sidetrack-code-editor",{icon:!1,render:gn});var vn=wp.data.withSelect,kn=wp.compose.compose,wn=wp.element.Component,yn=wp.components.withSpokenMessages,On=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){this.props.isDisabled?document.body.classList.remove("is-sidetrack-heading-label-on"):document.body.classList.add("is-sidetrack-heading-label-on")}},{key:"render",value:function(){return null}}]),t}(wn),jn=kn([vn((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackHeadingLabelWriting")}})),yn])(On);(0,wp.plugins.registerPlugin)("sidetrack-heading-label",{icon:!1,render:jn});var Sn=o(39),Cn=o.n(Sn),_n=wp.element,En=_n.Component,Fn=_n.Fragment,xn=wp.editor.mediaUpload,Dn=wp.compose.compose,An=wp.components,Pn=An.DropZone,Tn=An.withSpokenMessages,Nn=wp.data,Bn=Nn.withDispatch,In=Nn.select,Ln=["image"],Mn=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).addFile=e.addFile.bind(kt()(e)),e.onSelectFile=e.onSelectFile.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"addFile",value:function(e){var t=this;document.body.classList.add("is-sidetrack-uploading-featured"),xn({allowedTypes:Ln,filesList:e,onFileChange:function(e){var o=Cn()(e,1)[0];return t.onSelectFile(o)}})}},{key:"onSelectFile",value:function(e){e&&e.url&&this.props.onUpdateImage(e)}},{key:"render",value:function(){return Object(a.createElement)(Fn,null,Object(a.createElement)(Pn,{onFilesDrop:this.addFile,label:this.props.label}))}}]),t}(En),Rn=Dn(Bn((function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id}),In("core/editor").getEditedPostAttribute("featured_media")===e.id&&document.body.classList.remove("is-sidetrack-uploading-featured")},onRemoveImage:function(){t({featured_media:0})}}})),Tn)(Mn),zn=wp.i18n.__,Un=wp.hooks.applyFilters,Hn=wp.editor.PostFeaturedImageCheck,Wn=wp.blockEditor,Vn=Wn.MediaUpload,qn=Wn.MediaUploadCheck,Kn=wp.components,Jn=Kn.Button,Gn=Kn.Spinner,$n=Kn.ResponsiveWrapper,Yn=["image"],Qn=zn("Featured Image","blockshop-options"),Zn=zn("Set Featured Image","blockshop-options"),Xn=zn("Remove Image","blockshop-options"),er=function(e){var t,o,n,r=e.currentPostId,i=e.featuredImageId,c=e.onUpdateImage,s=e.onRemoveImage,l=e.media,u=e.postType,p=Object(ee.get)(u,["labels"],{}),d=Object(a.createElement)("p",null,zn("To edit the featured image, you need permission to upload media.","blockshop-options"));if(l){var b=Un("editor.PostFeaturedImage.imageSize","post-thumbnail",l.id,r);Object(ee.has)(l,["media_details","sizes",b])?(t=l.media_details.sizes[b].width,o=l.media_details.sizes[b].height,n=l.media_details.sizes[b].source_url):(t=l.media_details.width,o=l.media_details.height,n=l.source_url)}var f=Object(a.createElement)(Rn,{label:zn("Upload Featured Image","blockshop-options")});return Object(a.createElement)(Hn,null,Object(a.createElement)("div",{className:"editor-post-featured-image sidetrack-post-featured-image"},Object(a.createElement)(qn,{fallback:d},f,Object(a.createElement)("div",{className:"sidetrack-post-featured-spinner"},Object(a.createElement)(Gn,null)),Object(a.createElement)(Vn,{title:p.featured_image||Qn,onSelect:c,allowedTypes:Yn,modalClass:"editor-post-featured-image__media-modal",render:function(e){var r=e.open;return Object(a.createElement)(Jn,{className:i?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:r,"aria-label":i?zn("Edit or update the image","blockshop-options"):null},!!i&&l&&Object(a.createElement)($n,{naturalWidth:t,naturalHeight:o},Object(a.createElement)("img",{src:n,alt:""})),!!i&&!l&&Object(a.createElement)(Gn,null),!i&&(p.set_featured_image||Zn))},value:i})),!!i&&l&&!l.isLoading&&Object(a.createElement)(qn,null,Object(a.createElement)(Vn,{title:p.featured_image||Qn,onSelect:c,allowedTypes:Yn,modalClass:"editor-post-featured-image__media-modal",render:function(e){var t=e.open;return Object(a.createElement)(Jn,{onClick:t,isDefault:!0,isLarge:!0},zn("Replace Image","blockshop-options"))}})),!!i&&Object(a.createElement)(qn,null,Object(a.createElement)(Jn,{onClick:s,isLink:!0,isDestructive:!0},p.remove_featured_image||Xn))))},tr=wp.hooks.addFilter,or=wp.compose,nr=or.compose,rr=or.createHigherOrderComponent,ir=wp.element.Fragment,cr=wp.components.withSpokenMessages,sr=wp.data,ar=sr.withSelect,lr=sr.withDispatch,ur=nr(ar((function(e){var t=e("core"),o=t.getMedia,n=t.getPostType,r=e("core/editor"),i=r.getCurrentPostId,c=r.getEditedPostAttribute,s=c("featured_media");return{media:s?o(s):null,currentPostId:i(),postType:n(c("type")),featuredImageId:s,isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackDragAndDropFeaturedTools")}})),lr((function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id})},onRemoveImage:function(){t({featured_media:0})}}})),cr);tr("editor.PostFeaturedImage","sidetrack/post-featured-image",rr((function(e){return ur((function(t){var o=s()({},t),n=o.isDisabled;return Object(a.createElement)(ir,null,n?Object(a.createElement)(e,o):Object(a.createElement)(er,o))}))}),"withDragandDropFeaturedImage"));var pr=o(154),dr=wp.i18n.__,br=wp.data,fr=br.withSelect,mr=br.withDispatch,hr=br.select,gr=br.subscribe,vr=wp.compose,kr=vr.compose,wr=vr.ifCondition,yr=wp.element.Component,Or=wp.blocks.hasBlockSupport,jr=wp.components.withSpokenMessages,Sr=["core/image","core/gallery","core/cover"],Cr=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).updateMeta=e.updateMeta.bind(kt()(e)),e.calculateReadingTime=e.calculateReadingTime.bind(kt()(e)),e.handleButtonClick=e.handleButtonClick.bind(kt()(e)),e.state={readingTime:0},e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.updateMeta(),document.addEventListener("mousedown",this.handleButtonClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleButtonClick)}},{key:"handleButtonClick",value:function(e){var t=document.querySelector(".table-of-contents button").getAttribute("aria-expanded");if(document.querySelector(".table-of-contents").contains(e.target)&&"false"===t)var o=this.calculateReadingTime(),n=setInterval((function(){document.querySelector(".table-of-contents__popover")&&(document.querySelector(".table-of-contents__counts").insertAdjacentHTML("beforeend",'<li class="table-of-contents__count table-of-contents__wordcount">'.concat(dr("Reading Time","blockshop-options"),'<span class="table-of-contents__number">').concat(o," min</span></li>")),clearInterval(n))}),100)}},{key:"calculateReadingTime",value:function(){var e=this.props,t=e.content,o=e.blocks,n=Object(pr.count)(t,"words",{})/275*60;if(o){var r=12;Object(ee.map)(o,(function(e){(Sr.includes(e.name)||Or(e.name,"editorsKitWordCount"))&&(n+=r,r>3&&r--)}))}return(n/=60)<1&&(n=1),n.toFixed()}},{key:"updateMeta",value:function(){var e=this,t=this.props.updateReadingTime;return gr((function(){var o=hr("core/editor").isSavingPost(),n=hr("core/editor").isAutosavingPost();if(o&&!n){var r=e.calculateReadingTime();r!==e.state.readingTime&&(e.setState({readingTime:r}),t(parseInt(r)))}}))}},{key:"render",value:function(){return null}}]),t}(yr),_r=kr([fr((function(){return{content:hr("core/editor").getEditedPostAttribute("content"),blocks:hr("core/editor").getEditedPostAttribute("blocks"),isDisabled:hr("core/edit-post").isFeatureActive("disableSidetrackReadingTimeWriting")}})),mr((function(e){return{updateReadingTime:function(t){e("core/editor").editPost({meta:{_sidetrack_reading_time:t}})}}})),wr((function(e){return!e.isDisabled})),jr])(Cr);function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xr(e,t,o){return t&&Fr(e.prototype,t),o&&Fr(e,o),e}function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}function Br(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(0,wp.plugins.registerPlugin)("sidetrack-reading-time",{icon:!1,render:_r});var Ir=o(11),Lr=o.n(Ir),Mr=o(8),Rr=o.n(Mr),zr=o(30),Ur=o.n(zr),Hr=o(19),Wr=o.n(Hr),Vr="https://platform.twitter.com/widgets.js";Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"buildChromeOptions",value:function(e){return e.chrome="",this.props.noHeader&&(e.chrome=e.chrome+" noheader"),this.props.noFooter&&(e.chrome=e.chrome+" nofooter"),this.props.noBorders&&(e.chrome=e.chrome+" noborders"),this.props.noScrollbar&&(e.chrome=e.chrome+" noscrollbar"),this.props.transparent&&(e.chrome=e.chrome+" transparent"),e}},{key:"buildOptions",value:function(){var e=Object.assign({},this.props.options);return this.props.autoHeight&&(e.height=this.refs.embedContainer.parentNode.offsetHeight),e=Object.assign({},e,{theme:this.props.theme,linkColor:this.props.linkColor,borderColor:this.props.borderColor,lang:this.props.lang})}},{key:"renderWidget",value:function(e){this.isMountCanceled||window.twttr.widgets.createTimeline({sourceType:this.props.sourceType,screenName:this.props.screenName,userId:this.props.userId,ownerScreenName:this.props.ownerScreenName,slug:this.props.slug,id:this.props.id||this.props.widgetId,url:this.props.url},this.refs.embedContainer,e)}},{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){if(window.twttr){var t=e.buildOptions();t=e.buildChromeOptions(t),e.renderWidget(t)}else console.error("Failure to load window.twttr in TwitterTimelineEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{sourceType:Rr.a.oneOf(["profile","likes","list","collection","URL","widget"]).isRequired,screenName:Ur()(Rr.a.string,(function(e){return!e.hasOwnProperty("userId")&&("profile"===e.sourceType||"likes"===e.sourceType)})),userId:Ur()(Rr.a.number,(function(e){return!e.hasOwnProperty("screenName")&&("profile"===e.sourceType||"likes"===e.sourceType)})),ownerScreenName:Ur()(Rr.a.string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),slug:Ur()(Rr.a.string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),id:Ur()(Rr.a.oneOfType([Rr.a.number,Rr.a.string]),(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("ownerScreenName")&&!e.hasOwnProperty("slug")||"collection"===e.sourceType})),url:Ur()(Rr.a.string,(function(e){return"url"===e.sourceType})),widgetId:Ur()(Rr.a.string,(function(e){return"widget"===e.sourceType})),options:Rr.a.object,autoHeight:Rr.a.bool,theme:Rr.a.oneOf(["dark","light"]),linkColor:Rr.a.string,borderColor:Rr.a.string,noHeader:Rr.a.bool,noFooter:Rr.a.bool,noBorders:Rr.a.bool,noScrollbar:Rr.a.bool,transparent:Rr.a.bool,lang:Rr.a.string}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createShareButton(e.props.url,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterShareButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{url:Rr.a.string.isRequired,options:Rr.a.object}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createFollowButton(e.props.screenName,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterFollowButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{screenName:Rr.a.string.isRequired,options:Rr.a.object}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createHashtagButton(e.props.tag,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterHashtagButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{tag:Rr.a.string.isRequired,options:Rr.a.object}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMentionButton(e.props.screenName,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterMentionButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{screenName:Rr.a.string.isRequired,options:Rr.a.object});var qr=function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"renderWidget",value:function(){var e=this;window.twttr?this.isMountCanceled||window.twttr.widgets.createTweet(this.props.tweetId,this.refs.embedContainer,this.props.options).then((function(t){e.props.onLoaded&&e.props.onLoaded(t)})):console.error("Failure to load window.twttr in TwitterTweetEmbed, aborting load.")}},{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){e.renderWidget()}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component);Br(qr,"propTypes",{tweetId:Rr.a.string.isRequired,options:Rr.a.object,onLoaded:Rr.a.func}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMoment(e.props.momentId,e.refs.shareMoment,e.props.options):console.error("Failure to load window.twttr in TwitterMomentShare, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"shareMoment"})}}]),t}(Ir.Component),"propTypes",{momentId:Rr.a.string.isRequired,options:Rr.a.object}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createDMButton(e.props.id,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterDMButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{id:Rr.a.number.isRequired,options:Rr.a.object}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createVideo(e.props.id,e.refs.embedContainer):console.error("Failure to load window.twttr in TwitterVideoEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{id:Rr.a.string.isRequired}),Br(function(e){function t(){return Er(this,t),Ar(this,Pr(t).apply(this,arguments))}return Nr(t,e),xr(t,[{key:"componentDidMount",value:function(){var e=this;Wr.a.canUseDOM&&o(20)(Vr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createPeriscopeOnAirButton(e.props.username,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterOnAirButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Lr.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ir.Component),"propTypes",{username:Rr.a.string.isRequired,options:Rr.a.object});var Kr=wp.i18n,Jr=Kr.__,Gr=Kr.sprintf,$r=wp.element.RawHTML,Yr=wp.components.Modal;function Qr(e){var t=e.closeModal,o=window.sidetrackInfo,n=o.core,r=o.editor,i=o.plugin;return Object(a.createElement)(Yr,{title:Jr("About Gutenberg Block Editor","blockshop-options"),shouldCloseOnClickOutside:!1,onRequestClose:function(){return t()},closeLabel:Jr("Close","blockshop-options"),icon:null,className:"sidetrack-modal-component components-modal--sidetrack-overview"},Object(a.createElement)("p",null,Jr("Version","blockshop-options")," ",Object(a.createElement)("strong",null,r.version)),Object(a.createElement)("p",null,r.is_core?Gr(Jr("You are using the new block editor bundled on WordPress core %s","blockshop-options"),n.version):Object(a.createElement)($r,null,Gr(Jr("You are using the new block editor powered by the %sGutenberg Plugin%s.","blockshop-options"),'<a href="https://wordpress.org/plugins/gutenberg/" target="_blank" rel="noreferrer noopener nofollow">',"</a>"))),Object(a.createElement)("p",null,Object(a.createElement)($r,null,Gr(Jr(" Want to help? %sGet involved or report an issue%s.","blockshop-options"),'<a href="https://github.com/WordPress/gutenberg/issues" target="_blank" rel="noreferrer noopener nofollow">',"</a>"))),Object(a.createElement)("p",{className:"sidetrack-version-small"},Gr(Jr("Sidetrack %s","blockshop-options"),i.version)))}var Zr=wp.i18n.__,Xr=wp.data,ei=Xr.withSelect,ti=Xr.withDispatch,oi=Xr.select,ni=wp.compose,ri=ni.compose,ii=ni.ifCondition,ci=wp.element,si=ci.Fragment,ai=ci.Component,li=wp.keycodes.DOWN,ui=wp.components,pi=ui.withSpokenMessages,di=ui.Modal,bi=ui.Button,fi=ui.IconButton,mi=ui.Dropdown,hi=ui.NavigableMenu,gi=["1178226931277287425","1177555440638382080","1179365591553118227","1177920047546650624","1177461678004293637","1178693225923497984","1179727978353135616","1180455552079425537","1178929974247448576","1176395801888604161","1181217763844509696","1177202169310658560"],vi=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isOpen:!1,isAboutOpen:!1,isLoaded:!1,tweetId:0},e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".sidetrack-component-help-tips");e&&(e.parentElement.style.display="block")}},{key:"routeChange",value:function(e){window.open(e,"_blank").focus()}},{key:"tweetLoaded",value:function(){this.setState({isLoaded:!0})}},{key:"nextTweet",value:function(){this.setState({tweetId:this.state.tweetId+1,isOpen:!1})}},{key:"componentDidUpdate",value:function(){this.state.tweetId>0&&!this.state.isOpen&&this.setState({isOpen:!0,isLoaded:!1})}},{key:"render",value:function(){var e=this,t=this.props.onDisable,o=function(){return e.setState({isOpen:!1,isAboutOpen:!1,tweetId:0,isLoaded:!1})};return Object(a.createElement)(si,null,Object(a.createElement)(mi,{className:"sidetrack-component-help-tips",renderToggle:function(e){var t=e.isOpen,o=e.onToggle;return Object(a.createElement)(fi,{className:"components-dropdown-menu__toggle",icon:"editor-help",onClick:o,onKeyDown:function(e){t||e.keyCode!==li||(e.preventDefault(),e.stopPropagation(),o())},"aria-haspopup":"true","aria-expanded":t,label:Zr("Help, tips and tricks"),tooltip:Zr("Help, tips and tricks")})},renderContent:function(o){var n=o.onClose;return Object(a.createElement)(hi,{className:"sidetrack-menu-help-tips",role:"menu"},Object(a.createElement)(fi,{icon:"info",onClick:function(){n(),e.setState({isAboutOpen:!0})}},Zr("About")),Object(a.createElement)(fi,{icon:"sos",onClick:function(){n(),e.setState({isOpen:!0})}},Zr("Tips and Tricks")),Object(a.createElement)(fi,{icon:"admin-site-alt3",onClick:function(){e.routeChange("https://www.facebook.com/groups/sidetrack/")}},Zr("Sidetrack Community Help")),Object(a.createElement)("div",{className:"editor-block-settings-menu__separator block-editor-block-settings-menu__separator"}),Object(a.createElement)(fi,{icon:"dismiss",onClick:t},Zr("Remove/Disable Help Button")))}}),this.state.isOpen?Object(a.createElement)(di,{title:Zr("Tips and Tricks","blockshop-options"),shouldCloseOnClickOutside:!1,onRequestClose:function(){return o()},closeLabel:Zr("Close","blockshop-options"),icon:null,className:"sidetrack-modal-component components-modal--sidetrack-help-tips"},Object(a.createElement)(qr,{tweetId:gi[this.state.tweetId],options:{align:"center",theme:"dark",conversation:"none",dnt:!0},onLoaded:function(){e.tweetLoaded()}}),this.state.isLoaded?Object(a.createElement)("div",{className:"components-modal--sidetrack-help-tips-buttons"},Object(a.createElement)(fi,{isPrimary:!0,isLarge:!0,icon:"twitter",onClick:function(){e.routeChange("https://twitter.com/i/moments/1177466596219949057")}},Zr("View All Tips and Tricks","blockshop-options")),Object(a.createElement)(bi,{isDefault:!0,isLarge:!0,onClick:function(){e.nextTweet()}},Zr("Next","blockshop-options"))):Zr("Fetching...","blockshop-options")):null,this.state.isAboutOpen?Object(a.createElement)(Qr,{closeModal:o}):null)}}]),t}(ai),ki=ri([ei((function(){return{isDisabled:oi("core/edit-post").isFeatureActive("disableSidetrackHelpTools")}})),ti((function(e){return{onDisable:function(){e("core/edit-post").toggleFeature("disableSidetrackHelpTools")}}})),ii((function(e){return!e.isDisabled})),pi])(vi);(0,wp.plugins.registerPlugin)("sidetrack-help-tips",{icon:!1,render:ki});var wi=o(28),yi=o.n(wi),Oi=wp.element.Component,ji=wp.compose.compose,Si=wp.data,Ci=Si.select,_i=Si.withSelect,Ei=wp.components.withSpokenMessages,Fi=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidUpdate",value:function(){var e,t=this.props.blockName;if(!t)return null;var o=new RegExp("\\bsidetrack-selected--.*?\\b","g"),n=document.body.classList.value.split(/\s+/).filter((function(e){return o.test(e)}));(e=document.body.classList).remove.apply(e,yi()(n)),document.body.classList.add("sidetrack-selected--"+t.replace("/","-"))}},{key:"render",value:function(){return null}}]),t}(Oi),xi=ji(_i((function(){var e=Ci("core/block-editor").getSelectedBlock();return e?{blockName:e.name}:{}})),Ei)(Fi);(0,wp.plugins.registerPlugin)("sidetrack-selected-block",{icon:!1,render:xi});o(161);var Di=wp.i18n.__,Ai=wp.data,Pi=Ai.select,Ti=Ai.withSelect,Ni=Ai.withDispatch,Bi=wp.element,Ii=Bi.Fragment,Li=Bi.Component,Mi=wp.components.withSpokenMessages,Ri=wp.editPost.PluginBlockSettingsMenuItem,zi=wp.compose,Ui=zi.compose,Hi=zi.ifCondition,Wi=["core/image"],Vi=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.imageID,o=e.featuredImageID,n=e.onUpdateImage,r=e.onRemoveImage;return Object(a.createElement)(Ii,null,Object(a.createElement)(Ri,{icon:"format-image",label:Di(t===o?"Remove as Featured Image":"Set as Featured Image","blockshop-options"),onClick:function(){t===o?r():n(t)}}))}}]),t}(Li),qi=Ui(Ti((function(){var e=Pi("core/block-editor").getSelectedBlock();return e?{featuredImageID:Pi("core/editor").getEditedPostAttribute("featured_media"),blockName:e.name,imageID:Object(ee.get)(e,"attributes.id"),isDisabled:Pi("core/edit-post").isFeatureActive("disableSidetrackSetAsFeaturedOptions")}:{}})),Ni((function(e){var t=e("core/editor").editPost,o=e("core/notices").createNotice;return{onUpdateImage:function(e){t({featured_media:e}),o("info",Di("Image Set as Featured.","blockshop-options"),{isDismissible:!0,type:"snackbar"})},onRemoveImage:function(){t({featured_media:0}),o("info",Di("Featured Image Removed.","blockshop-options"),{isDismissible:!0,type:"snackbar"})}}})),Hi((function(e){return!e.isDisabled&&Wi.includes(e.blockName)&&void 0!==e.imageID})),Mi)(Vi);function Ki(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ji(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ki(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ki(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}(0,wp.plugins.registerPlugin)("sidetrack-set-as-featured-image",{icon:"format-image",render:qi});var Gi=wp.i18n.__,$i=wp.data,Yi=$i.select,Qi=$i.withSelect,Zi=$i.withDispatch,Xi=wp.element,ec=Xi.Fragment,tc=Xi.Component,oc=wp.components.withSpokenMessages,nc=wp.editPost.PluginBlockSettingsMenuItem,rc=wp.compose,ic=rc.compose,cc=rc.ifCondition,sc=wp.richText,ac=sc.create,lc=sc.toHTMLString,uc=["core/paragraph","core/heading"],pc=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.blockName,n=e.blockContent,r=e.clearBlockFormatting,i=ac({html:n});return Object(a.createElement)(ec,null,Object(a.createElement)(nc,{icon:"editor-removeformatting",label:Gi("Clear Block Formatting","blockshop-options"),onClick:function(){r(t,o,lc({value:Ji({},i,{formats:Array(i.formats.length)})}))}}))}}]),t}(tc),dc=ic(Qi((function(){var e=Yi("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockContent:Object(ee.get)(e,"attributes.content"),isDisabled:Yi("core/edit-post").isFeatureActive("disableSidetrackClearFormattingFormats")}:{}})),Zi((function(e){var t=e("core/block-editor").updateBlockAttributes;return{clearBlockFormatting:function(e,o,n){t(e,{content:n})}}})),cc((function(e){return!e.isDisabled&&uc.includes(e.blockName)})),oc)(pc);(0,wp.plugins.registerPlugin)("sidetrack-block-clear-formatting",{icon:"editor-removeformatting",render:dc});var bc=wp.i18n.__,fc=wp.data.dispatch,mc=wp.element.Fragment,hc=wp.components.TextareaControl,gc=function(e){var t=e.clientId,o=e.attributes,n=e.reloadModal,r=o.sidetrack;return Object(a.createElement)(mc,null,Object(a.createElement)("div",{className:"sidetrack-button-group-container sidetrack-button-group-logic"},Object(a.createElement)(hc,{rows:"2",label:bc("Conditional Logic","blockshop-options"),help:bc("Add valid PHP conditional tags for custom & advanced visibility options.","blockshop-options"),value:r.logic?r.logic:null,onChange:function(e){delete r.logic;var o=Object.assign({logic:e},r);fc("core/block-editor").updateBlockAttributes(t,{sidetrack:o}),n&&n()}})))},vc=o(29),kc=o.n(vc);function wc(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function yc(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wc(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):wc(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Oc=wp.apiFetch,jc=wp.data.registerStore,Sc={setACFields:function(e){return{type:"SET_ACF_FIELDS",ACFfields:e}},receiveACFields:function(e){return{type:"RECEIVE_ACF_FIELDS",path:e}},fetchFromAPI:function(e){return{type:"FETCH_FROM_API",path:e}}};jc("sidetrack/acf",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ACFfields:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACF_FIELDS":return yc({},e,{ACFfields:t.ACFfields});case"RECEIVE_ACF_FIELDS":return t.ACFfields}return e},actions:Sc,selectors:{receiveACFields:function(e){return e.ACFfields}},controls:{FETCH_FROM_API:function(e){return Oc({path:e.path})}},resolvers:{receiveACFields:kc.a.mark((function e(){var t;return kc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sidetrack/v1/acf",e.next=3,Sc.fetchFromAPI("/sidetrack/v1/acf");case 3:return t=e.sent,e.next=6,Sc.setACFields(t);case 6:case"end":return e.stop()}}),e)}))}});var Cc=wp.i18n.__,_c=wp.data,Ec=_c.dispatch,Fc=_c.withSelect,xc=wp.element,Dc=xc.Fragment,Ac=xc.Component,Pc=wp.components,Tc=Pc.SelectControl,Nc=Pc.TextareaControl,Bc=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.acf,o=e.selectedBlock,n=o.clientId,r=o.attributes,c=o.reloadModal,s=r.sidetrack,l=function(e,t){delete s[e];var o=Object.assign(i()({},e,t),s);Ec("core/block-editor").updateBlockAttributes(n,{sidetrack:o}),c&&c()},u=[{label:Cc("Select Field","blockshop-options"),value:""}];if(t){if(void 0!==t&&!Object(ee.isEmpty)(t)){var p=t;for(var d in p)u.push({label:p[d],value:d});return Object(a.createElement)(Dc,null,Object(a.createElement)("div",{className:"sidetrack-button-group-container sidetrack-button-group-acf"},Object(a.createElement)("label",{className:"components-base-control__label"},Cc("Advanced Custom Fields","blockshop-options"))," ",Object(a.createElement)(Tc,{value:void 0!==s.acf_visibility&&""!==s.acf_visibility?s.acf_visibility:"",options:[{label:Cc("Select Visibility Option","blockshop-options"),value:"none"},{label:Cc("Hide when Condition's met","blockshop-options"),value:"hide"},{label:Cc("Show when Condition's met","blockshop-options"),value:"show"}],onChange:function(e){return l("acf_visibility",e)}}),Object(a.createElement)(Tc,{value:void 0!==s.acf_field&&""!==s.acf_field?s.acf_field:"",options:u,onChange:function(e){return l("acf_field",e)}}),Object(a.createElement)(Tc,{value:void 0!==s.acf_condition&&""!==s.acf_condition?s.acf_condition:"",options:[{label:Cc("Select Condition","blockshop-options"),value:"none"},{label:Cc("Is Equal to","blockshop-options"),value:"equal"},{label:Cc("Is Not Equal to","blockshop-options"),value:"not_equal"},{label:Cc("Contains","blockshop-options"),value:"contains"},{label:Cc("Does Not Contain","blockshop-options"),value:"not_contains"},{label:Cc("Is Empty","blockshop-options"),value:"empty"},{label:Cc("Is Not Empty","blockshop-options"),value:"not_empty"}],onChange:function(e){return l("acf_condition",e)}}),Object(a.createElement)(Nc,{label:Cc("Conditional Value","blockshop-options"),rows:"3",value:s.acf_value,onChange:function(e){return l("acf_value",e)},help:Cc("Additional support for Advanced Custom Fields plugin. Will automatically show when you have the plugin installed and activated.","blockshop-options")})))}return null}}}]),t}(Ac),Ic=Fc((function(e){return{acf:e("sidetrack/acf").receiveACFields()}}))(Bc),Lc=wp.i18n.__,Mc=wp.data.withSelect,Rc=wp.element,zc=Rc.Fragment,Uc=Rc.Component,Hc=wp.components,Wc=Hc.Modal,Vc=Hc.TabPanel,qc=Hc.withSpokenMessages,Kc=wp.editPost.PluginBlockSettingsMenuItem,Jc=wp.compose.compose,Gc=["core/freeform","core/shortcode","core/block","core/template","sidetrack/import"],$c=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).reloadModal=e.reloadModal.bind(kt()(e)),e.state={settings:"",isOpen:!1,reload:!1},e}return yt()(t,e),bt()(t,[{key:"reloadModal",value:function(){this.setState({reload:!this.state.reload})}},{key:"render",value:function(){var e=this,t=this.props,o=t.isDisabledDevices,n=t.isDisabledUserState,r=t.isDisabledLogic,i=t.isDisabledACF,c=this.props.selectedBlock;c=Object.assign({reloadModal:this.reloadModal},c);var s=[];return o&&n||s.push({name:"default",title:Lc("Default","blockshop-options"),className:"sidetrack-default"}),r&&i||s.push({name:"advanced",title:Lc("Advanced","blockshop-options"),className:"sidetrack-advanced"}),o&&n&&r&&i?null:void 0!==c.name&&Gc.includes(c.name)?null:Object(a.createElement)(zc,null,Object(a.createElement)(Kc,{icon:"visibility",label:Lc("Visibility Settings","blockshop-options"),onClick:function(){e.setState({isOpen:!0})}}),this.state.isOpen&&void 0!==c.name&&!Gc.includes(c.name)?Object(a.createElement)(Wc,{title:Lc("Visibility Settings","blockshop-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Lc("Close","blockshop-options"),className:"sidetrack-components-modal__content"},Object(a.createElement)(Vc,{className:"sidetrack-tab-panel",activeClass:"is-active",tabs:s},(function(e){switch(e.name){case"advanced":return[!r&&gc(c),!i&&Object(a.createElement)(Ic,{selectedBlock:c})];default:return[Object(a.createElement)("small",null,Lc("Attention: The display settings (show/hide for mobile, tablet, desktop or users) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","blockshop-options")),!o&&Ne(c),!n&&Re(c)]}}))):null)}}]),t}(Uc),Yc=Jc(Mc((function(e){var t=e("core/block-editor").getSelectedBlock();return t?{selectedBlock:t,isDisabledDevices:e("core/edit-post").isFeatureActive("disableSidetrackDevicesVisibility"),isDisabledUserState:e("core/edit-post").isFeatureActive("disableSidetrackUserStateVisibility"),isDisabledLogic:e("core/edit-post").isFeatureActive("disableSidetrackLogicVisibility"),isDisabledACF:e("core/edit-post").isFeatureActive("disableSidetrackAcfVisibility")}:{}})),qc)($c);(0,wp.plugins.registerPlugin)("sidetrack-block-settings",{icon:"visibility",render:Yc});var Qc=o(63),Zc=o.n(Qc);function Xc(e,t,o){var n=new window.Blob([t],{type:o});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,e);else{var r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=e,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}function es(){return(es=Zc()(kc.a.mark((function e(t){var o,n,r,i,c;return kc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 2:return o=e.sent,e.next=5,wp.apiFetch({path:"/wp/v2/".concat(o.rest_base,"/").concat(t,"?context=edit")});case 5:n=e.sent,r=n.title.raw,i=n.content.raw,c=JSON.stringify({__file:"wp_block",title:r,content:i},null,2),Xc(Object(ee.kebabCase)(r)+".json",c,"application/json");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ts=function(e){return es.apply(this,arguments)},os=wp.i18n.__,ns=wp.data,rs=ns.withSelect,is=ns.select,cs=wp.compose,ss=cs.compose,as=cs.ifCondition,ls=wp.element,us=ls.Fragment,ps=ls.Component,ds=wp.editPost.PluginBlockSettingsMenuItem,bs=wp.components.withSpokenMessages,fs=wp.blocks.serialize,ms=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).saveAsJSON=e.saveAsJSON.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"saveAsJSON",value:function(){var e=this.props,t=e.selectedBlockCount,o=e.selectedBlock,n=e.selectedBlocks;if(!(t<1)){var r;if(1===t){if("core/block"===o.name)return void ts(o.attributes.ref);r=fs(o)}t>1&&(r=fs(n));var i=JSON.stringify({__file:"core_block",content:r},null,2);Xc(Object(ee.kebabCase)("sidetrack/export")+".json",i,"application/json")}}},{key:"render",value:function(){return Object(a.createElement)(us,null,Object(a.createElement)(ds,{icon:"share-alt2",label:os("Export as JSON","blockshop-options"),onClick:this.saveAsJSON}))}}]),t}(ps),hs=ss([rs((function(){var e=is("core/block-editor"),t=e.getSelectedBlockCount,o=e.getSelectedBlock,n=e.getMultiSelectedBlocks,r=is("core/block-editor").getBlock;return{selectedBlockCount:t(),selectedBlock:o(),selectedBlocks:n(),isDisabled:is("core/edit-post").isFeatureActive("disableSidetrackExportOptions"),getBlock:r}})),as((function(e){return!e.isDisabled})),bs])(ms);(0,wp.plugins.registerPlugin)("sidetrack-features-import-export",{icon:!1,render:hs});var gs={};gs.copy=Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(a.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(a.createElement)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}));var vs=gs,ks=wp.i18n.__,ws=wp.data,ys=ws.select,Os=ws.withSelect,js=ws.withDispatch,Ss=wp.element,Cs=Ss.Fragment,_s=Ss.Component,Es=wp.components,Fs=Es.withSpokenMessages,xs=Es.ClipboardButton,Ds=wp.editPost.PluginBlockSettingsMenuItem,As=wp.compose,Ps=As.compose,Ts=As.ifCondition,Ns=wp.blocks.serialize,Bs=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).getSelection=e.getSelection.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"getSelection",value:function(){var e,t=this.props,o=t.selectedBlockCount,n=t.selectedBlock,r=ys("core/block-editor").getMultiSelectedBlocks();return 1===o&&(e=Ns(n)),Object(ee.size)(r)>0&&(e=Ns(r)),e}},{key:"render",value:function(){var e=this.props,t=e.onCopy,o=e.selectedBlock,n=ys("core/block-editor").getMultiSelectedBlocks();return!(!o&&Object(ee.size)(n)<1)&&Object(a.createElement)(Cs,null,Object(a.createElement)(Ds,{icon:null,label:Object(a.createElement)(xs,{text:this.getSelection(),icon:vs.copy,onCopy:t},ks("Copy","blockshop-options")),onClick:function(){}}))}}]),t}(_s),Is=Ps(Os((function(){var e=ys("core/block-editor"),t=e.getSelectedBlockCount,o=e.getSelectedBlock,n=e.getMultiSelectedBlocks;return o()?{selectedBlockCount:t(),selectedBlock:o(),selectedBlocks:n(),isDisabled:ys("core/edit-post").isFeatureActive("disableSidetrackCopyOptions")}:{}})),js((function(e){var t=e("core/notices").createNotice;return{onCopy:function(){var e=ys("core/block-editor").getMultiSelectedBlocks(),o=ks("Selected block copied.","blockshop-options");Object(ee.size)(e)>0&&(o=ks("Selected blocks copied.","blockshop-options")),t("info",o,{isDismissible:!0,type:"snackbar"})}}})),Ts((function(e){return!e.isDisabled})),Fs)(Bs);(0,wp.plugins.registerPlugin)("sidetrack-copy",{icon:vs.copy,render:Is});var Ls=wp.i18n.__,Ms=wp.element.Component,Rs=wp.compose,zs=Rs.compose,Us=Rs.ifCondition,Hs=wp.data,Ws=Hs.select,Vs=Hs.withSelect,qs=Hs.withDispatch,Ks=wp.blockEditor.RichTextToolbarButton,Js=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.isBlockJustified,n=e.isDisabled,r=e.updateBlockAttributes;if(n)return null;return Object(a.createElement)(Ks,{icon:"editor-justify",title:Ls("Justify","blockshop-options"),onClick:function(){r(t,{align:o?null:"justify"})},isActive:o})}}]),t}(Ms),Gs=zs(Vs((function(){var e=Ws("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,isBlockJustified:"justify"===Object(ee.get)(e,"attributes.align"),isDisabled:Ws("core/edit-post").isFeatureActive("disableSidetrackJustifyFormats"),formatTypes:Ws("core/rich-text").getFormatTypes()}:{}})),qs((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),Us((function(e){var t=e.formatTypes.filter((function(e){return"wpcom/justify"===e.name}));return"core/paragraph"===e.blockName&&0===t.length})))(Js),$s=wp.i18n.__,Ys=wp.element.Fragment,Qs={name:"sidetrack/justify",title:$s("Align text justify","blockshop-options"),tagName:"p",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(Ys,null,Object(a.createElement)(Gs,{name:"sidetrack/justify",isActive:t,value:o,onChange:n,activeAttributes:r}))}},Zs=wp.i18n.__,Xs=wp.element,ea=Xs.Component,ta=Xs.Fragment,oa=wp.data,na=oa.select,ra=oa.withSelect,ia=wp.blockEditor,ca=ia.BlockControls,sa=ia.getColorClassName,aa=ia.getColorObjectByColorValue,la=ia.getColorObjectByAttributeValues,ua=wp.richText,pa=ua.applyFormat,da=ua.removeFormat,ba=ua.getActiveFormat,fa=wp.components,ma=fa.Toolbar,ha=fa.IconButton,ga=fa.Popover,va=fa.ColorPalette,ka=wp.compose,wa=ka.compose,ya=ka.ifCondition,Oa=Zs("Text Color","blockshop-options"),ja=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).toggle=e.toggle.bind(kt()(e)),e.state={isOpen:!1},e}return yt()(t,e),bt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,i=n.onChange,c=n.colors,s=ba(r,"sidetrack/color");if(s){var l=s.attributes.style;l&&(e=l.replace(new RegExp("^color:\\s*"),""));var u=s.attributes.class;if(u){var p=u.replace(/.*has-(.*?)-color.*/,"$1");e=la(c,p).color}}return Object(a.createElement)(ta,null,Object(a.createElement)(ca,null,Object(a.createElement)(ma,{className:"sidetrack-components-toolbar"},Object(a.createElement)(ha,{className:"components-button components-icon-button components-sidetrack-toolbar__control components-toolbar__control components-sidetrack-color-format",icon:"editor-textcolor","aria-haspopup":"true",tooltip:Oa,onClick:this.toggle},Object(a.createElement)("span",{className:"components-sidetrack-inline-color__indicator",style:{backgroundColor:e}})),o&&Object(a.createElement)(ga,{position:"bottom center",className:"components-sidetrack__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-sidetrack-color-format")||document.querySelector(".components-sidetrack-color-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},Object(a.createElement)(va,{colors:c,value:e,onChange:function(e){if(e){var t=null;void 0!==window.sidetrackInfo&&window.sidetrackInfo.supports.color_palette&&(t=aa(c,e)),i(pa(r,{type:"sidetrack/color",attributes:t?{class:sa("color",t.slug)}:{style:"color:".concat(e)}}))}else i(da(r,"sidetrack/color"))}})))))}}]),t}(ea),Sa=wa(ra((function(){var e=na("core/block-editor").getSettings().colors;return{colors:e||[],isDisabled:na("core/edit-post").isFeatureActive("disableSidetrackColorsFormats")}})),ya((function(e){return!e.isDisabled})))(ja),Ca={name:"sidetrack/color",title:(0,wp.i18n.__)("Text Color","blockshop-options"),tagName:"span",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:Sa},_a={};_a.highlighter=Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512"}," ",Object(a.createElement)("path",{d:"M240.2,369.1 C244.39999999999998,373.3 251.2,373 255.10000000000002,368.6 L465.7,125.4 C474.5,115.3 474,100.2 464.5,90.7 L426.3,52.5 C416.8,43 401.7,42.5 391.6,51.3 L148.4,262 C143.9,265.9 143.7,272.7 147.9,276.9 L240.2,369.1 z",id:"svg_2"})," ",Object(a.createElement)("path",{d:"M48.2,449.7 L86.5,462.5 L104.5,444.5 L172.1,444.5 C174.8,444.5 177.4,443.4 179.3,441.5 L205.1,415.7 C209.1,411.7 209.1,405.3 205.1,401.3 L111.6,308 C107.6,304 101.19999999999999,304 97.19999999999999,308 L71.4,333.8 C69.5,335.7 68.4,338.3 68.4,341 L68.4,404.4 C68.4,407.1 67.3,409.7 65.4,411.6 L44.099999999999994,432.9 C38.900000000000006,438.2 41.099999999999994,447.3 48.2,449.7 z",id:"svg_3"})," ");var Ea=_a,Fa=wp.i18n.__,xa=wp.element,Da=xa.Component,Aa=xa.Fragment,Pa=wp.data,Ta=Pa.select,Na=Pa.withSelect,Ba=wp.blockEditor,Ia=Ba.BlockControls,La=Ba.getColorClassName,Ma=Ba.getColorObjectByColorValue,Ra=Ba.getColorObjectByAttributeValues,za=wp.richText,Ua=za.applyFormat,Ha=za.removeFormat,Wa=za.getActiveFormat,Va=wp.components,qa=Va.Toolbar,Ka=Va.IconButton,Ja=Va.Popover,Ga=Va.ColorPalette,$a=wp.compose,Ya=$a.compose,Qa=$a.ifCondition,Za=Fa("Highlight Color","blockshop-options"),Xa=[{name:Fa("Orange Sunrise","blockshop-options"),slug:"orange-sunrise",color:"#f7cc62"},{name:Fa("Pink Flamingo","blockshop-options"),slug:"pink-flamingo",color:"#ffbfb5"},{name:Fa("Spring Green","blockshop-options"),slug:"spring-green",color:"#b5dcaf"},{name:Fa("Blue Moon","blockshop-options"),slug:"blue-moon",color:"#d6e8fa"},{name:Fa("Purple Mist","blockshop-options"),slug:"purple-mist",color:"#d8c3ff"}],el=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).toggle=e.toggle.bind(kt()(e)),e.state={isOpen:!1},e}return yt()(t,e),bt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,i=n.onChange,c=n.isActive,s=n.colors,l=Wa(r,"sidetrack/background");if(l){var p=l.attributes.style;p&&(e=p.replace(new RegExp("^background-color:\\s*"),""));var d=l.attributes.class;if(d){var b=d.replace(/.*has-(.*?)-background-color.*/,"$1");e=Ra(s,b).color}}return Object(a.createElement)(Aa,null,Object(a.createElement)(Ia,null,Object(a.createElement)(qa,{className:"sidetrack-components-toolbar"},Object(a.createElement)(Ka,{className:u()("components-button components-icon-button components-sidetrack-toolbar__control components-toolbar__control components-sidetrack-background-format",{"is-active":c}),icon:Ea.highlighter,"aria-haspopup":"true",tooltip:Za,onClick:this.toggle}),o&&Object(a.createElement)(Ja,{position:"bottom center",className:"components-sidetrack__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-sidetrack-background-format")||document.querySelector(".components-sidetrack-background-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},Object(a.createElement)(Ga,{colors:s,value:e,onChange:function(e){if(e){var t=null;void 0!==window.sidetrackInfo&&window.sidetrackInfo.supports.color_palette&&(t=Ma(s,e)),i(Ua(r,{type:"sidetrack/background",attributes:t?{class:La("background-color",t.slug)}:{style:"background-color:".concat(e)}}))}else i(Ha(r,"sidetrack/background"))}})))))}}]),t}(Da),tl=Ya(Na((function(){var e=Ta("core/block-editor").getSettings().colors;return{colors:e||Xa,isDisabled:Ta("core/edit-post").isFeatureActive("disableSidetrackHighlightFormats")}})),Qa((function(e){return!e.isDisabled})))(el),ol={name:"sidetrack/background",title:(0,wp.i18n.__)("Background Color","blockshop-options"),tagName:"span",className:"has-inline-background",attributes:{style:"style",class:"class"},edit:tl},nl=o(18),rl=o.n(nl);function il(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var cl=wp.element.Component,sl=wp.compose,al=sl.compose,ll=sl.ifCondition,ul=wp.data,pl=ul.select,dl=ul.withSelect,bl=ul.withDispatch,fl=wp.richText,ml=fl.applyFormat,hl=fl.getTextContent,gl=fl.remove,vl=wp.components.withSpokenMessages,kl=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={start:null,end:null},e}return yt()(t,e),bt()(t,[{key:"_experimentalMarkdown",value:function(e,t,o,n){var r=e.start,c=hl(e);if(c.slice(r-1,r)!==o)return e;var s=c.slice(0,r-1).lastIndexOf(o);if(-1===s)return e;var a=s,l=r-2;if(a===l)return e;if(c.slice(a,l+1).split("\n").length>1)return e;var u=function(e){var t=e.formats,o=e.start,n=e.end,r=e.activeFormats;if(void 0===o)return[];if(o===n){if(r)return r;var i=t[o-1]||[],c=t[o]||[];return i.length<c.length?i:c}return t[o]||[]}(e);if(u.length>0&&u.filter((function(e){return"core/code"===e.type})))return e;var p=c.slice(a-1,a);return 1===p.length&&p.match(/[A-Z|a-z]/i)?e:" "===c.slice(a+1,a+2)?e:(e=gl(e,a,a+1),e=gl(e,l,l+1),e=ml(e,{type:n},a,l),wp.data.dispatch("core/block-editor").stopTyping(),this.setState({start:a,end:l}),e.activeFormats=[],t(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?il(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):il(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e,{needsSelectionUpdate:!0})),e)}},{key:"render",value:function(){var e=this,t=this.props,o=t.value,n=t.onChange;return rl()({bold:{markdown:"*",format:"core/bold"},italic:{markdown:"_",format:"core/italic"},strikethrough:{markdown:"~",format:"core/strikethrough"}},(function(t){e._experimentalMarkdown(o,n,t.markdown,t.format)})),null}}]),t}(cl),wl=al(dl((function(){return{isDisabled:pl("core/edit-post").isFeatureActive("disableSidetrackMarkdownWriting")}})),bl((function(e,t){var o=t.clientId,n=t.instanceId,r=t.identifier,i=void 0===r?n:r,c=e("core/block-editor").selectionChange;return{onSelectionChange:function(e,t){c(o,i,e,t)}}})),ll((function(e){return!e.isDisabled})),vl)(kl),yl=wp.i18n.__,Ol=wp.element.Fragment,jl={name:"sidetrack/markdown",title:yl("Underline","blockshop-options"),tagName:"p",className:"sidetrack-markdown",attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(Ol,null,Object(a.createElement)(wl,{name:"sidetrack/markdown",isActive:t,value:o,onChange:n,activeAttributes:r}))}},Sl={};Sl.subscript=Object(a.createElement)("svg",{viewBox:"-85 -975 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(a.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 50v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var Cl=Sl,_l=wp.i18n.__,El=wp.element,Fl=El.Fragment,xl=El.Component,Dl=wp.compose,Al=Dl.compose,Pl=Dl.ifCondition,Tl=wp.data,Nl=Tl.select,Bl=Tl.withSelect,Il=wp.blockEditor,Ll=Il.RichTextToolbarButton,Ml=Il.RichTextShortcut,Rl=wp.richText,zl=Rl.toggleFormat,Ul=Rl.removeFormat,Hl=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.value,n=e.isActive,r=e.onChange,i=function(){var e=Ul(o,"sidetrack/superscript");r(zl(e,{type:t}))};return Object(a.createElement)(Fl,null,Object(a.createElement)(Ml,{type:"primary",character:",",onUse:i}),Object(a.createElement)(Ll,{icon:Cl.subscript,title:_l("Subscript","blockshop-options"),onClick:i,isActive:n}))}}]),t}(xl),Wl=Al(Bl((function(){return{isDisabled:Nl("core/edit-post").isFeatureActive("disableSidetrackSubscriptFormats")}})),Pl((function(e){return!e.isDisabled})))(Hl),Vl=wp.i18n.__,ql=wp.element.Fragment,Kl={name:"sidetrack/subscript",title:Vl("Subscript","blockshop-options"),tagName:"sub",className:null,edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(ql,null,Object(a.createElement)(Wl,{name:"sidetrack/subscript",isActive:t,value:o,onChange:n,activeAttributes:r}))}},Jl={};Jl.superscript=Object(a.createElement)("svg",{viewBox:"-85 -985 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(a.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 754v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var Gl=Jl,$l=wp.i18n.__,Yl=wp.element,Ql=Yl.Fragment,Zl=Yl.Component,Xl=wp.compose,eu=Xl.compose,tu=Xl.ifCondition,ou=wp.data,nu=ou.select,ru=ou.withSelect,iu=wp.blockEditor,cu=iu.RichTextToolbarButton,su=iu.RichTextShortcut,au=wp.richText,lu=au.toggleFormat,uu=au.removeFormat,pu=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.value,n=e.isActive,r=e.onChange,i=function(){var e=uu(o,"sidetrack/subscript");r(lu(e,{type:t}))};return Object(a.createElement)(Ql,null,Object(a.createElement)(su,{type:"primary",character:".",onUse:i}),Object(a.createElement)(cu,{icon:Gl.superscript,title:$l("Superscript","blockshop-options"),onClick:i,isActive:n}))}}]),t}(Zl),du=eu(ru((function(){return{isDisabled:nu("core/edit-post").isFeatureActive("disableSidetrackSuperscriptFormats")}})),tu((function(e){return!e.isDisabled})))(pu),bu=wp.i18n.__,fu=wp.element.Fragment,mu={name:"sidetrack/superscript",title:bu("Superscript","blockshop-options"),tagName:"sup",className:null,edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(fu,null,Object(a.createElement)(du,{name:"sidetrack/superscript",isActive:t,value:o,onChange:n,activeAttributes:r}))}};function hu(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var gu=wp.i18n.__,vu=wp.element.Component,ku=wp.compose,wu=ku.compose,yu=ku.ifCondition,Ou=wp.data,ju=Ou.select,Su=Ou.withSelect,Cu=wp.blockEditor.RichTextToolbarButton,_u=wp.richText.removeFormat,Eu=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.value,o=e.isActive,n=e.onChange;return Object(a.createElement)(Cu,{icon:"editor-removeformatting",title:gu("Clear Formatting","blockshop-options"),onClick:function(){var e=ju("core/rich-text").getFormatTypes();if(e.length>0){var o=t;rl()(e,(function(e){o=_u(o,e.name)})),n(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?hu(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):hu(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},o))}},isActive:o})}}]),t}(vu),Fu=wu(Su((function(){return{isDisabled:ju("core/edit-post").isFeatureActive("disableSidetrackClearFormattingFormats")}})),yu((function(e){return!e.isDisabled})))(Eu),xu=wp.i18n.__,Du=wp.element.Fragment,Au={name:"sidetrack/clear-formatting",title:xu("Clear Formatting","blockshop-options"),tagName:"span",className:"sidetrack-clear-formatting",edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(Du,null,Object(a.createElement)(Fu,{name:"sidetrack/clear-formatting",isActive:t,value:o,onChange:n,activeAttributes:r}))}},Pu={};Pu.uppercase=Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",version:"1",viewBox:"0 0 24 24"}," ",Object(a.createElement)("path",{d:"M22,7.7h-4V19h-2.1V7.7H13V6h9V7.7z"})," ",Object(a.createElement)("path",{d:"M11,7.7H8V19H5.9V7.7H2V6h9V7.7z"})," ");var Tu=Pu,Nu=wp.i18n.__,Bu=wp.element.Component,Iu=wp.compose,Lu=Iu.compose,Mu=Iu.ifCondition,Ru=wp.data.withSelect,zu=wp.blockEditor.RichTextToolbarButton,Uu=wp.richText.toggleFormat,Hu=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,o=e.isActive,n=e.value,r=e.name;return Object(a.createElement)(zu,{icon:Tu.uppercase,title:Nu("Uppercase","blockshop-options"),onClick:function(){t(Uu(n,{type:r}))},isActive:o})}}]),t}(Bu),Wu=Lu(Ru((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackUppercaseFormats"),formatTypes:e("core/rich-text").getFormatTypes()}})),Mu((function(e){var t=e.formatTypes.filter((function(e){return"coblocks/uppercase"===e.name}));return!e.isDisabled&&0===t.length})))(Hu),Vu=wp.i18n.__,qu=wp.element.Fragment,Ku={name:"sidetrack/uppercase",title:Vu("Uppercase","blockshop-options"),tagName:"span",className:"uppercase",edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(qu,null,Object(a.createElement)(Wu,{name:"sidetrack/uppercase",isActive:t,value:o,onChange:n,activeAttributes:r}))}},Ju=wp.url,Gu=Ju.getProtocol,$u=Ju.isValidProtocol,Yu=Ju.getAuthority,Qu=Ju.isValidAuthority,Zu=Ju.getPath,Xu=Ju.isValidPath,ep=Ju.getQueryString,tp=Ju.isValidQueryString,op=Ju.getFragment,np=Ju.isValidFragment,rp=wp.i18n,ip=rp.__,cp=rp.sprintf;function sp(e){if(!e)return!1;var t=e.trim();if(!t)return!1;if(/^\S+:/.test(t)){var o=Gu(t);if(!$u(o))return!1;if(Object(ee.startsWith)(o,"http")&&!/^https?:\/\/[^\/\s]/i.test(t))return!1;var n=Yu(t);if(!Qu(n))return!1;var r=Zu(t);if(r&&!Xu(r))return!1;var i=ep(t);if(i&&!tp(i))return!1;var c=op(t);if(c&&!np(c))return!1}return!(Object(ee.startsWith)(t,"#")&&!np(t))}function ap(e){var t=e.url,o=e.opensInNewWindow,n=e.noFollow,r=e.sponsored,i=e.text,c={type:"sidetrack/link",attributes:{url:t}},s=[];if(o){var a=cp(ip("%s (opens in a new tab)","blockshop-options"),i);c.attributes.target="_blank",c.attributes["aria-label"]=a,s.push("noreferrer noopener")}return n&&s.push("nofollow"),r&&s.push("sponsored"),s.length>0&&(c.attributes.rel=s.join(" ")),c}var lp=wp.element.Component,up=wp.dom,pp=up.getOffsetParent,dp=up.getRectangleFromRange;function bp(){var e=window.getSelection();if(0===e.rangeCount)return{};var t=dp(e.getRangeAt(0)),o=t.top+t.height,n=t.left+t.width/2,r=pp(e.anchorNode);if(r){var i=r.getBoundingClientRect();o-=i.top,n-=i.left}return{top:o,left:n}}var fp=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={style:bp()},e}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.style;return Object(a.createElement)("div",{className:"editor-format-toolbar__selection-position",style:t},e)}}]),t}(lp);function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hp(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function gp(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function vp(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof o){var r=e.document;"number"!=typeof(o=r.documentElement[n])&&(o=r.body[n])}return o}function kp(e){return vp(e)}function yp(e){return vp(e,!0)}function Op(e){var t=function(e){var t,o,n,r=e.ownerDocument,i=r.body,c=r&&r.documentElement;return o=(t=e.getBoundingClientRect()).left,n=t.top,{left:o-=c.clientLeft||i.clientLeft||0,top:n-=c.clientTop||i.clientTop||0}}(e),o=e.ownerDocument,n=o.defaultView||o.parentWindow;return t.left+=kp(n),t.top+=yp(n),t}var jp,Sp=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Cp=/^(top|right|bottom|left)$/;function _p(e,t){for(var o=0;o<e.length;o++)t(e[o])}function Ep(e){return"border-box"===jp(e,"boxSizing")}"undefined"!=typeof window&&(jp=window.getComputedStyle?function(e,t,o){var n="",r=e.ownerDocument,i=o||r.defaultView.getComputedStyle(e,null);return i&&(n=i.getPropertyValue(t)||i[t]),n}:function(e,t){var o=e.currentStyle&&e.currentStyle[t];if(Sp.test(o)&&!Cp.test(t)){var n=e.style,r=n.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,n.left="fontSize"===t?"1em":o||0,o=n.pixelLeft+"px",n.left=r,e.runtimeStyle.left=i}return""===o?"auto":o});var Fp=["margin","border","padding"];function xp(e,t,o){var n,r={},i=e.style;for(n in t)t.hasOwnProperty(n)&&(r[n]=i[n],i[n]=t[n]);for(n in o.call(e),t)t.hasOwnProperty(n)&&(i[n]=r[n])}function Dp(e,t,o){var n,r,i,c=0;for(r=0;r<t.length;r++)if(n=t[r])for(i=0;i<o.length;i++){var s=void 0;s="border"===n?"".concat(n+o[i],"Width"):n+o[i],c+=parseFloat(jp(e,s))||0}return c}function Ap(e){return null!=e&&e==e.window}var Pp={};function Tp(e,t,o){if(Ap(e))return"width"===t?Pp.viewportWidth(e):Pp.viewportHeight(e);if(9===e.nodeType)return"width"===t?Pp.docWidth(e):Pp.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?e.offsetWidth:e.offsetHeight,i=(jp(e),Ep(e)),c=0;(null==r||r<=0)&&(r=void 0,(null==(c=jp(e,t))||Number(c)<0)&&(c=e.style[t]||0),c=parseFloat(c)||0),void 0===o&&(o=i?1:-1);var s=void 0!==r||i,a=r||c;if(-1===o)return s?a-Dp(e,["border","padding"],n):c;if(s){var l=2===o?-Dp(e,["border"],n):Dp(e,["margin"],n);return a+(1===o?0:l)}return c+Dp(e,Fp.slice(o),n)}_p(["Width","Height"],(function(e){Pp["doc".concat(e)]=function(t){var o=t.document;return Math.max(o.documentElement["scroll".concat(e)],o.body["scroll".concat(e)],Pp["viewport".concat(e)](o))},Pp["viewport".concat(e)]=function(t){var o="client".concat(e),n=t.document,r=n.body,i=n.documentElement[o];return"CSS1Compat"===n.compatMode&&i||r&&r[o]||i}}));var Np={position:"absolute",visibility:"hidden",display:"block"};function Bp(e){var t,o=arguments;return 0!==e.offsetWidth?t=Tp.apply(void 0,o):xp(e,Np,(function(){t=Tp.apply(void 0,o)})),t}function Ip(e,t,o){var n=o;if("object"!==mp(t))return void 0!==n?("number"==typeof n&&(n+="px"),void(e.style[t]=n)):jp(e,t);for(var r in t)t.hasOwnProperty(r)&&Ip(e,r,t[r])}_p(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Pp["outer".concat(t)]=function(t,o){return t&&Bp(t,e,o?0:1)};var o="width"===e?["Left","Right"]:["Top","Bottom"];Pp[e]=function(t,n){if(void 0===n)return t&&Bp(t,e,-1);if(t){jp(t);return Ep(t)&&(n+=Dp(t,["padding","border"],o)),Ip(t,e,n)}}}));var Lp=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?gp(o,!0).forEach((function(t){hp(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):gp(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return Op(e);!function(e,t){"static"===Ip(e,"position")&&(e.style.position="relative");var o,n,r=Op(e),i={};for(n in t)t.hasOwnProperty(n)&&(o=parseFloat(Ip(e,n))||0,i[n]=o+t[n]-r[n]);Ip(e,i)}(e,t)},isWindow:Ap,each:_p,css:Ip,clone:function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(Ap(e)){if(void 0===t)return kp(e);window.scrollTo(t,yp(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(Ap(e)){if(void 0===t)return yp(e);window.scrollTo(kp(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},Pp);var Mp=function(e,t,o){o=o||{},9===t.nodeType&&(t=Lp.getWindow(t));var n=o.allowHorizontalScroll,r=o.onlyScrollIfNeeded,i=o.alignWithTop,c=o.alignWithLeft,s=o.offsetTop||0,a=o.offsetLeft||0,l=o.offsetBottom||0,u=o.offsetRight||0;n=void 0===n||n;var p,d,b,f,m,h,g,v,k,w,y=Lp.isWindow(t),O=Lp.offset(e),j=Lp.outerHeight(e),S=Lp.outerWidth(e);y?(g=t,w=Lp.height(g),k=Lp.width(g),v={left:Lp.scrollLeft(g),top:Lp.scrollTop(g)},m={left:O.left-v.left-a,top:O.top-v.top-s},h={left:O.left+S-(v.left+k)+u,top:O.top+j-(v.top+w)+l},f=v):(p=Lp.offset(t),d=t.clientHeight,b=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},m={left:O.left-(p.left+(parseFloat(Lp.css(t,"borderLeftWidth"))||0))-a,top:O.top-(p.top+(parseFloat(Lp.css(t,"borderTopWidth"))||0))-s},h={left:O.left+S-(p.left+b+(parseFloat(Lp.css(t,"borderRightWidth"))||0))+u,top:O.top+j-(p.top+d+(parseFloat(Lp.css(t,"borderBottomWidth"))||0))+l}),m.top<0||h.top>0?!0===i?Lp.scrollTop(t,f.top+m.top):!1===i?Lp.scrollTop(t,f.top+h.top):m.top<0?Lp.scrollTop(t,f.top+m.top):Lp.scrollTop(t,f.top+h.top):r||((i=void 0===i||!!i)?Lp.scrollTop(t,f.top+m.top):Lp.scrollTop(t,f.top+h.top)),n&&(m.left<0||h.left>0?!0===c?Lp.scrollLeft(t,f.left+m.left):!1===c?Lp.scrollLeft(t,f.left+h.left):m.left<0?Lp.scrollLeft(t,f.left+m.left):Lp.scrollLeft(t,f.left+h.left):r||((c=void 0===c||!!c)?Lp.scrollLeft(t,f.left+m.left):Lp.scrollLeft(t,f.left+h.left)))},Rp=wp.i18n,zp=Rp.__,Up=Rp.sprintf,Hp=Rp._n,Wp=wp.element,Vp=Wp.Component,qp=Wp.createRef,Kp=wp.htmlEntities.decodeEntities,Jp=wp.keycodes,Gp=Jp.UP,$p=Jp.DOWN,Yp=Jp.ENTER,Qp=Jp.TAB,Zp=wp.components,Xp=Zp.Spinner,ed=Zp.withSpokenMessages,td=Zp.Popover,od=wp.compose.withInstanceId,nd=wp.apiFetch,rd=wp.url.addQueryArgs,id=function(e){return e.stopPropagation()},cd=ed(od(function(e){function t(e){var o,n=e.autocompleteRef;return pt()(this,t),(o=mt()(this,gt()(t).apply(this,arguments))).onChange=o.onChange.bind(kt()(o)),o.onKeyDown=o.onKeyDown.bind(kt()(o)),o.autocompleteRef=n||qp(),o.inputRef=qp(),o.updateSuggestions=Object(ee.throttle)(o.updateSuggestions.bind(kt()(o)),200),o.suggestionNodes=[],o.state={posts:[],showSuggestions:!1,selectedSuggestion:null},o}return yt()(t,e),bt()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,o=t.showSuggestions,n=t.selectedSuggestion;o&&null!==n&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,Mp(this.suggestionNodes[n],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),setTimeout((function(){e.scrollingIntoView=!1}),100))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(o){t.suggestionNodes[e]=o}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var o=nd({path:rd("/wp/v2/search",{search:e,per_page:20,type:"post"})});o.then((function(e){t.suggestionsRequest===o&&(t.setState({posts:e,loading:!1}),e.length?t.props.debouncedSpeak(Up(Hp("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):t.props.debouncedSpeak(zp("No results.","blockshop-options"),"assertive"))})).catch((function(){t.suggestionsRequest===o&&t.setState({loading:!1})})),this.suggestionsRequest=o}}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,o=t.showSuggestions,n=t.selectedSuggestion,r=t.posts,i=t.loading;if(o&&r.length&&!i){var c=this.state.posts[this.state.selectedSuggestion];switch(e.keyCode){case Gp:e.stopPropagation(),e.preventDefault();var s=n?n-1:r.length-1;this.setState({selectedSuggestion:s});break;case $p:e.stopPropagation(),e.preventDefault();var a=null===n||n===r.length-1?0:n+1;this.setState({selectedSuggestion:a});break;case Qp:null!==this.state.selectedSuggestion&&(this.selectLink(c),this.props.speak(zp("Link selected.","blockshop-options")));break;case Yp:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.selectLink(c))}}else switch(e.keyCode){case Gp:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case $p:this.props.value.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function(e){this.selectLink(e),this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,o=t.value,n=void 0===o?"":o,r=t.autoFocus,i=void 0===r||r,c=t.instanceId,s=t.className,l=this.state,p=l.showSuggestions,d=l.posts,b=l.selectedSuggestion,f=l.loading;return Object(a.createElement)("div",{className:u()("editor-url-input block-editor-url-input",s)},Object(a.createElement)("input",{autoFocus:i,type:"text","aria-label":zp("URL","blockshop-options"),required:!0,value:n,onChange:this.onChange,onInput:id,placeholder:zp("Paste URL or type to search","blockshop-options"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":p,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-".concat(c),"aria-activedescendant":null!==b?"editor-url-input-suggestion-".concat(c,"-").concat(b):void 0,ref:this.inputRef}),f&&Object(a.createElement)(Xp,null),p&&!!d.length&&Object(a.createElement)(td,{position:"bottom",noArrow:!0,focusOnMount:!1},Object(a.createElement)("div",{className:u()("editor-url-input__suggestions","block-editor-url-input__suggestions","".concat(s,"__suggestions")),id:"editor-url-input-suggestions-".concat(c),ref:this.autocompleteRef,role:"listbox"},d.map((function(t,o){return Object(a.createElement)("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-".concat(c,"-").concat(o),ref:e.bindSuggestionNode(o),className:u()("editor-url-input__suggestion block-editor-url-input__suggestion",{"is-selected":o===b}),onClick:function(){return e.handleOnClick(t)},"aria-selected":o===b},Kp(t.title)||zp("(no title)","blockshop-options"))})))))}}]),t}(Vp))),sd=wp.i18n.__,ad=wp.components.IconButton;function ld(e){var t=e.autocompleteRef,o=e.className,n=e.onChangeInputValue,r=e.value,i=E()(e,["autocompleteRef","className","onChangeInputValue","value"]);return Object(a.createElement)("form",s()({className:u()("block-editor-url-popover__link-editor",o)},i),Object(a.createElement)(cd,{value:r,onChange:n,autocompleteRef:t}),Object(a.createElement)(ad,{icon:"editor-break",label:sd("Apply","blockshop-options"),type:"submit"}))}var ud=wp.i18n.__,pd=wp.components,dd=pd.ExternalLink,bd=pd.IconButton,fd=wp.url,md=fd.safeDecodeURI,hd=fd.filterURLForDisplay;function gd(e){var t=e.url,o=e.urlLabel,n=e.className,r=u()(n,"block-editor-url-popover__link-viewer-url");return t?Object(a.createElement)(dd,{className:r,href:t},o||hd(md(t))):Object(a.createElement)("span",{className:r})}function vd(e){var t=e.className,o=e.linkClassName,n=e.onEditLinkClick,r=e.url,i=e.urlLabel,c=E()(e,["className","linkClassName","onEditLinkClick","url","urlLabel"]);return Object(a.createElement)("div",s()({className:u()("block-editor-url-popover__link-viewer",t)},c),Object(a.createElement)(gd,{url:r,urlLabel:i,className:o}),n&&Object(a.createElement)(bd,{icon:"edit",label:ud("Edit","blockshop-options"),onClick:n}))}var kd=wp.i18n.__,wd=wp.element,yd=wd.Component,Od=wd.createRef,jd=wd.useMemo,Sd=wd.Fragment,Cd=wp.components,_d=Cd.ToggleControl,Ed=Cd.withSpokenMessages,Fd=wp.keycodes,xd=Fd.LEFT,Dd=Fd.RIGHT,Ad=Fd.UP,Pd=Fd.DOWN,Td=Fd.BACKSPACE,Nd=Fd.ENTER,Bd=Fd.ESCAPE,Id=wp.dom.getRectangleFromRange,Ld=wp.url.prependHTTP,Md=wp.richText,Rd=Md.create,zd=Md.insert,Ud=Md.isCollapsed,Hd=Md.applyFormat,Wd=Md.getTextContent,Vd=Md.slice,qd=wp.blockEditor.URLPopover,Kd=function(e){return e.stopPropagation()};function Jd(e,t){return e.addingLink||t.editLink}var Gd=function(e){var t=e.isActive,o=e.addingLink,n=e.value,r=E()(e,["isActive","addingLink","value"]),i=jd((function(){var e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;if(t){if(o)return Id(t);var n=t.startContainer;for(n=n.nextElementSibling||n;n.nodeType!==window.Node.ELEMENT_NODE;)n=n.parentNode;var r=n.closest("a");return r?r.getBoundingClientRect():void 0}}),[t,o,n.start,n.end]);return i?Object(a.createElement)(qd,s()({anchorRect:i},r)):null},$d=Ed(function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).editLink=e.editLink.bind(kt()(e)),e.submitLink=e.submitLink.bind(kt()(e)),e.onKeyDown=e.onKeyDown.bind(kt()(e)),e.onChangeInputValue=e.onChangeInputValue.bind(kt()(e)),e.setLinkTarget=e.setLinkTarget.bind(kt()(e)),e.setNoFollow=e.setNoFollow.bind(kt()(e)),e.setSponsored=e.setSponsored.bind(kt()(e)),e.onFocusOutside=e.onFocusOutside.bind(kt()(e)),e.resetState=e.resetState.bind(kt()(e)),e.autocompleteRef=Od(),e.state={opensInNewWindow:!1,noFollow:!1,sponsored:!1,inputValue:""},e}return yt()(t,e),bt()(t,[{key:"onKeyDown",value:function(e){[xd,Pd,Dd,Ad,Td,Nd].indexOf(e.keyCode)>-1&&e.stopPropagation(),[Bd].indexOf(e.keyCode)>-1&&this.resetState()}},{key:"onChangeInputValue",value:function(e){this.setState({inputValue:e})}},{key:"setLinkTarget",value:function(e){var t=this.props,o=t.activeAttributes.url,n=void 0===o?"":o,r=t.value,i=t.onChange;if(this.setState({opensInNewWindow:e}),!Jd(this.props,this.state)){var c=Wd(Vd(r));i(Hd(r,ap({url:n,opensInNewWindow:e,noFollow:this.state.noFollow,sponsored:this.state.sponsored,text:c})))}}},{key:"setNoFollow",value:function(e){var t=this.props,o=t.activeAttributes.url,n=void 0===o?"":o,r=t.value,i=t.onChange;if(this.setState({noFollow:e}),!Jd(this.props,this.state)){var c=Wd(Vd(r));i(Hd(r,ap({url:n,opensInNewWindow:this.state.opensInNewWindow,noFollow:e,sponsored:this.state.sponsored,text:c})))}}},{key:"setSponsored",value:function(e){var t=this.props,o=t.activeAttributes.url,n=void 0===o?"":o,r=t.value,i=t.onChange;if(this.setState({sponsored:e}),!Jd(this.props,this.state)){var c=Wd(Vd(r));i(Hd(r,ap({url:n,opensInNewWindow:this.state.opensInNewWindow,noFollow:this.state.noFollow,sponsored:e,text:c})))}}},{key:"editLink",value:function(e){this.setState({editLink:!0}),e.preventDefault()}},{key:"submitLink",value:function(e){var t=this.props,o=t.isActive,n=t.value,r=t.onChange,i=t.speak,c=this.state,s=c.inputValue,a=c.opensInNewWindow,l=Ld(s),u=ap({url:l,opensInNewWindow:a,text:Wd(Vd(n))});if(e.preventDefault(),Ud(n)&&!o){var p=Hd(Rd({text:l}),u,0,l.length);r(zd(n,p))}else r(Hd(n,u));this.resetState(),sp(l)?i(kd(o?"Link edited.":"Link inserted.","blockshop-options"),"assertive"):i(kd("Warning: the link has been inserted but may have errors. Please test it.","blockshop-options"),"assertive")}},{key:"onFocusOutside",value:function(){var e=this.autocompleteRef.current;e&&e.contains(event.target)||this.resetState()}},{key:"resetState",value:function(){this.props.stopAddingLink(),this.setState({editLink:!1})}},{key:"render",value:function(){var e=this,t=this.props,o=t.isActive,n=t.activeAttributes,r=n.url,i=n.target,c=n.rel,s=t.addingLink,l=t.value;if(!o&&!s)return null;var u=this.state,p=u.inputValue,d=u.opensInNewWindow,b=u.noFollow,f=u.sponsored,m=Jd(this.props,this.state);if(d||"_blank"!==i||this.setState({opensInNewWindow:!0}),"string"==typeof c){var h=c.split(" ").includes("nofollow"),g=c.split(" ").includes("sponsored");h!==b&&this.setState({noFollow:h}),g!==f&&this.setState({sponsored:g})}return Object(a.createElement)(fp,{key:"".concat(l.start).concat(l.end)},Object(a.createElement)(Gd,{value:l,isActive:o,addingLink:s,onFocusOutside:this.onFocusOutside,onClose:function(){p||e.resetState()},focusOnMount:!!m&&"firstElement",renderSettings:function(){return Object(a.createElement)(Sd,null,Object(a.createElement)(_d,{label:kd("Open in New Tab","blockshop-options"),checked:d,onChange:e.setLinkTarget}),Object(a.createElement)(_d,{label:kd("No Follow","blockshop-options"),checked:b,onChange:e.setNoFollow}),Object(a.createElement)(_d,{label:kd("Sponsored","blockshop-options"),checked:f,onChange:e.setSponsored}))}},m?Object(a.createElement)(ld,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:p,onChangeInputValue:this.onChangeInputValue,onKeyDown:this.onKeyDown,onKeyPress:Kd,onSubmit:this.submitLink,autocompleteRef:this.autocompleteRef}):Object(a.createElement)(vd,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Kd,url:r,onEditLinkClick:this.editLink,linkClassName:r&&sp(Ld(r))?void 0:"has-invalid-link"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.activeAttributes,n=o.url,r=o.target,i=o.rel,c="_blank"===r;if(!Jd(e,t)){if(n!==t.inputValue)return{inputValue:n};if(c!==t.opensInNewWindow)return{opensInNewWindow:c};if("string"==typeof i){var s=i.split(" ").includes("nofollow"),a=i.split(" ").includes("sponsored");if(s!==t.noFollow)return{noFollow:s};if(a!==t.sponsored)return{sponsored:a}}}return null}}]),t}(yd));function Yd(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Qd(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Yd(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Yd(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Zd=wp.i18n.__,Xd=wp.element,eb=Xd.Component,tb=Xd.Fragment,ob=wp.data,nb=ob.select,rb=ob.withSelect,ib=ob.dispatch,cb=wp.blockEditor,sb=cb.BlockControls,ab=cb.RichTextToolbarButton,lb=cb.RichTextShortcut,ub=wp.richText,pb=ub.getTextContent,db=ub.applyFormat,bb=ub.removeFormat,fb=ub.slice,mb=ub.getActiveFormat,hb=wp.url.isURL,gb=wp.components,vb=gb.Toolbar,kb=gb.withSpokenMessages,wb=wp.compose,yb=wb.compose,Ob=wb.ifCondition,jb=Zd("Add Link","blockshop-options"),Sb=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i,Cb=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).isEmail=e.isEmail.bind(kt()(e)),e.addLink=e.addLink.bind(kt()(e)),e.stopAddingLink=e.stopAddingLink.bind(kt()(e)),e.onRemoveFormat=e.onRemoveFormat.bind(kt()(e)),e.state={addingLink:!1},e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){var e=nb("core/rich-text").getFormatType("core/link");e&&(e.edit=null,ib("core/rich-text").addFormatTypes(e))}},{key:"isEmail",value:function(e){return Sb.test(e)}},{key:"addLink",value:function(){var e=this.props,t=e.value,o=e.onChange,n=pb(fb(t));n&&hb(n)?o(db(t,{type:"sidetrack/link",attributes:{url:n}})):n&&this.isEmail(n)?o(db(t,{type:"sidetrack/link",attributes:{url:"mailto:".concat(n)}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value,o=e.onChange,n=e.speak,r=t;Object(ee.map)(["core/link","sidetrack/link"],(function(e){r=bb(r,e)})),o(Qd({},r)),n(Zd("Link removed.","blockshop-options"),"assertive")}},{key:"render",value:function(){var e=this.props,t=e.activeAttributes,o=e.onChange,n=this.props,r=n.isActive,i=n.value,c=mb(i,"core/link");if(c){c.type="sidetrack/link",void 0!==c.unregisteredAttributes&&void 0!==c.unregisteredAttributes.rel&&(c.attributes=Object.assign(c.attributes,{rel:c.unregisteredAttributes.rel}));var s=i;s=db(s,c),o(Qd({},s=bb(s,"core/link"))),i=s,r=!0}return Object(a.createElement)(tb,null,Object(a.createElement)(sb,null,Object(a.createElement)(vb,{className:"sidetrack-components-toolbar"},Object(a.createElement)(lb,{type:"primary",character:"k",onUse:this.addLink}),Object(a.createElement)(lb,{type:"primaryShift",character:"k",onUse:this.onRemoveFormat}),r&&Object(a.createElement)(ab,{name:"link",icon:"editor-unlink",title:Zd("Unlink","blockshop-options"),onClick:this.onRemoveFormat,isActive:r,shortcutType:"primaryShift",shortcutCharacter:"k"}),!r&&Object(a.createElement)(ab,{name:"link",icon:"admin-links",title:jb,onClick:this.addLink,isActive:r,shortcutType:"primary",shortcutCharacter:"k"}),Object(a.createElement)($d,{addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:r,activeAttributes:t,value:i,onChange:o}))))}}]),t}(eb),_b=yb(rb((function(){return{isDisabled:nb("core/edit-post").isFeatureActive("disableSidetrackLinkFormats")}})),Ob((function(e){return!e.isDisabled})),kb)(Cb),Eb=wp.i18n.__,Fb=wp.richText,xb=Fb.applyFormat,Db=Fb.isCollapsed,Ab=wp.htmlEntities.decodeEntities,Pb=wp.url.isURL,Tb={name:"sidetrack/link",title:Eb("Link","blockshop-options"),tagName:"a",className:"ek-link",attributes:{url:"href",target:"target",rel:"rel"},__unstablePasteRule:function(e,t){var o=t.html,n=t.plainText;if(Db(e))return e;var r=(o||n).replace(/<[^>]+>/g,"").trim();return Pb(r)?(window.console.log("Created link:\n\n",r),xb(e,{type:"sidetrack/link",attributes:{url:Ab(r)}})):e},edit:_b},Nb=(o(162),wp.i18n.__),Bb=wp.element,Ib=Bb.Component,Lb=Bb.Fragment,Mb=wp.compose,Rb=Mb.compose,zb=Mb.ifCondition,Ub=wp.data,Hb=Ub.select,Wb=Ub.withSelect,Vb=Ub.withDispatch,qb=wp.blockEditor,Kb=qb.BlockControls,Jb=qb.AlignmentToolbar,Gb=wp.components.Toolbar,$b=wp.blocks.hasBlockSupport,Yb=["core/image","core/gallery","core/video","core/audio","core-embed","core-embed/youtube","core-embed/twitter","core-embed/facebook","core-embed/instagram","core-embed/wordpress","core-embed/soundcloud","core-embed/spotify","core-embed/flickr","core-embed/vimeo","core-embed/animoto","core-embed/cloudup","core-embed/collegehumor","core-embed/crowdsignal","core-embed/dailymotion","core-embed/hulu","core-embed/imgur","core-embed/issuu","core-embed/kickstarter","core-embed/meetup-com","core-embed/mixcloud","core-embed/reddit","core-embed/reverbnation","core-embed/screencast","core-embed/scribd","core-embed/slideshare","core-embed/smugmug","core-embed/speaker-deck","core-embed/ted","core-embed/tumblr","core-embed/videopress","core-embed/wordpress-tv","core-embed/amazon-kindle","core/table"],Qb=[{icon:"editor-alignleft",title:Nb("Align caption left","blockshop-options"),align:"left"},{icon:"editor-aligncenter",title:Nb("Align caption center","blockshop-options"),align:"center"},{icon:"editor-alignright",title:Nb("Align caption right","blockshop-options"),align:"right"}],Zb=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.blockName,n=e.blockClassName,r=e.blockCaptionAlignment,i=e.updateBlockAttributes,c=function(e){var t="";return n&&(t=n.replace("caption-align-default","").replace("caption-align-center","").replace("caption-align-right","").replace("caption-align-left","").trim()),e&&(t="caption-align-".concat(e," ")+t),(t=t.replace(/\s+/g," ").trim())||(t="caption-align-default"),t};return Yb.includes(o)||$b(o,"editorsKitCaptionAlignment")?Object(a.createElement)(Lb,null,Object(a.createElement)(Kb,null,Object(a.createElement)(Gb,{className:"sidetrack-components-alignment-toolbar"},Object(a.createElement)(Jb,{value:r,onChange:function(e){i(t,{captionAlignment:e,className:c(e)})},alignmentControls:Qb})))):null}}]),t}(Ib),Xb=Rb(Wb((function(){var e=Hb("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockClassName:Object(ee.get)(e,"attributes.className"),blockCaptionAlignment:Object(ee.get)(e,"attributes.captionAlignment"),isDisabled:Hb("core/edit-post").isFeatureActive("disableSidetrackCaptionAlignmentFormats")}:{}})),Vb((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),zb((function(e){return!e.isDisabled})))(Zb),ef=wp.i18n.__,tf=wp.element.Fragment,of={name:"sidetrack/alignment",title:ef("Change Caption Alignment","blockshop-options"),tagName:"figcaption",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(tf,null,Object(a.createElement)(Xb,{name:"sidetrack/alignment",isActive:t,value:o,onChange:n,activeAttributes:r}))}},nf={};nf.spacebar=Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(a.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(a.createElement)("path",{d:"M18 9v4H6V9H4v6h16V9z"}));var rf=nf;function cf(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var sf=wp.i18n.__,af=wp.element,lf=af.Fragment,uf=af.Component,pf=wp.compose,df=pf.compose,bf=pf.ifCondition,ff=wp.data,mf=ff.select,hf=ff.withSelect,gf=wp.richText,vf=gf.insert,kf=gf.getTextContent,wf=wp.blockEditor,yf=wf.RichTextShortcut,Of=wf.RichTextToolbarButton,jf=wp.components.withSpokenMessages,Sf=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.value,o=e.onChange,n=function(){var e=kf(t).slice(0,t.start).lastIndexOf(""),n=t.replacements[e],r=[,];n&&(r=[n]);var c=vf(t,{formats:[,],replacements:r,text:""},t.start,t.end);o(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?cf(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):cf(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},c,{needsSelectionUpdate:!0}))};return Object(a.createElement)(lf,null,Object(a.createElement)(yf,{type:"primaryShift",character:"SPACE",onUse:n}),Object(a.createElement)(Of,{icon:rf.spacebar,title:sf("Nonbreaking space","blockshop-options"),onClick:n}))}}]),t}(uf),Cf=df(hf((function(){return{isDisabled:mf("core/edit-post").isFeatureActive("disableSidetrackNonbreakingSpaceFormats")}})),bf((function(e){return!e.isDisabled})),jf)(Sf),_f=wp.i18n.__,Ef=wp.element.Fragment,Ff={name:"sidetrack/nbsp",title:_f("Nonbreaking Space","blockshop-options"),tagName:"span",className:"nbsp",edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return Object(a.createElement)(Ef,null,Object(a.createElement)(Cf,{name:"sidetrack/nbsp",isActive:t,value:o,onChange:n,activeAttributes:r}))}},xf=wp.i18n.__,Df=wp.element,Af=Df.Component,Pf=Df.Fragment,Tf=wp.compose,Nf=Tf.compose,Bf=Tf.ifCondition,If=wp.data.withSelect,Lf=wp.blockEditor.RichTextToolbarButton,Mf=wp.richText,Rf=Mf.applyFormat,zf=Mf.removeFormat,Uf=Mf.getActiveFormat,Hf=wp.components,Wf=Hf.Modal,Vf=Hf.Button,qf=Hf.TextControl,Kf=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).toggle=e.toggle.bind(kt()(e)),e.state={isOpen:!1,title:"",lang:""},e}return yt()(t,e),bt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e=this,t=this.state,o=t.title,n=t.lang,r=this.props,i=r.isActive,c=r.value,s=r.onChange,l=Uf(c,"sidetrack/abbreviation");return Object(a.createElement)(Pf,null,Object(a.createElement)(Lf,{icon:"editor-code",title:xf("Abbreviation","blockshop-options"),onClick:this.toggle,isActive:i}),this.state.isOpen&&Object(a.createElement)(Wf,{title:xf("Insert Abbreviation","blockshop-options"),onRequestClose:this.toggle},Object(a.createElement)(qf,{label:xf("Title","blockshop-options"),value:l&&!o?l.attributes.title:o,onChange:function(t){return e.setState({title:t})}}),Object(a.createElement)(qf,{label:xf("Language (optional)","blockshop-options"),value:l&&!n?l.attributes.lang:n,help:xf("Example: fr, en, de, etc. Use it only if the abbreviations language is different from page main language.","blockshop-options"),onChange:function(t){return e.setState({lang:t})}}),Object(a.createElement)(Vf,{isPrimary:!0,isLarge:!0,onClick:function(){if(o){var t={title:o};n&&(t.lang=n),s(Rf(c,{type:"sidetrack/abbreviation",attributes:t}))}else s(zf(c,"sidetrack/abbreviation"));e.toggle()}},xf("Apply","blockshop-options"))))}}]),t}(Af),Jf=Nf(If((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackAbbreviationFormats")}})),Bf((function(e){return!e.isDisabled})))(Kf),Gf=wp.i18n.__,$f=(wp.element.Fragment,{name:"sidetrack/abbreviation",title:Gf("Abbreviation","blockshop-options"),tagName:"abbr",className:null,attributes:{title:"title",lang:"lang"},edit:Jf}),Yf=wp.i18n.__,Qf=wp.element.Fragment,Zf=wp.richText.toggleFormat,Xf=wp.blockEditor,em=Xf.RichTextToolbarButton,tm=Xf.RichTextShortcut,om=wp.data.select,nm={name:"sidetrack/underline",title:Yf("Underline","blockshop-options"),tagName:"span",className:"ek-underline",attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=om("core/edit-post").isFeatureActive("disableSidetrackUnderlineFormats"),i=om("core/rich-text").getFormatTypes().filter((function(e){return"wpcom/underline"===e.name})),c=function(){n(Zf(o,{type:"sidetrack/underline",attributes:{style:"text-decoration: underline;"}}))};return Object(a.createElement)(Qf,null,Object(a.createElement)(tm,{type:"primary",character:"u",onUse:c}),!r&&0===i.length&&Object(a.createElement)(em,{icon:"editor-underline",title:Yf("Underline","blockshop-options"),onClick:c,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}},rm=wp.richText.registerFormatType,im=(0,wp.data.select)("core/edit-post").isFeatureActive("disableSidetrackLinkFormats");wp.domReady((function(){[Qs,Ca,ol,jl,Kl,mu,Au,Ku,of,Ff,$f,nm,im?[]:Tb].forEach((function(e){var t=e.name,o=E()(e,["name"]);t&&rm(t,o)}))}));var cm=wp.i18n.__,sm=wp.data.withSelect,am=wp.compose.compose,lm=wp.element,um=lm.Component,pm=lm.Fragment,dm=wp.blockEditor.BlockControls,bm=wp.components,fm=bm.Toolbar,mm=bm.withSpokenMessages,hm=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.attributes,o=e.setAttributes,n=t.mediaPosition,r=t.className;!["top","bottom"].includes(n)&&r&&o({className:this.removeTopBottom()})}},{key:"removeTopBottom",value:function(){var e=this.props.attributes.className,t="";return e&&(t=(t=e.replace("has-media-on-the-bottom","").replace("has-media-on-the-top","").trim()).replace(/\s+/g," ").trim()),t}},{key:"render",value:function(){var e=this,t=this.props,o=t.attributes,n=t.setAttributes,r=t.isDisabled,i=o.mediaPosition;if(r)return null;var c=[{className:"align-pull-top",icon:"align-pull-left",title:cm("Show media on top","blockshop-options"),isActive:"top"===i,onClick:function(){n({mediaPosition:"top",className:e.removeTopBottom()+" has-media-on-the-top",align:""})}},{className:"align-pull-bottom",icon:"align-pull-right",title:cm("Show media on bottom","blockshop-options"),isActive:"bottom"===i,onClick:function(){n({mediaPosition:"bottom",className:e.removeTopBottom()+" has-media-on-the-bottom",align:""})}}];return Object(a.createElement)(pm,null,Object(a.createElement)(dm,null,Object(a.createElement)(fm,{className:"sidetrack-media-text-card-controls",controls:c})))}}]),t}(um),gm=am(sm((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackMediaTextLayoutOptions")}})),mm)(hm);function vm(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var km=wp.hooks.addFilter,wm=wp.element.Fragment,ym=wp.compose.createHigherOrderComponent,Om=["core/media-text"];km("editor.BlockEdit","sidetrack/media-text-link",ym((function(e){return function(t){return Object(a.createElement)(wm,null,t.isSelected&&Om.includes(t.name)&&Object(a.createElement)(gm,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?vm(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):vm(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},t)),Object(a.createElement)(e,t))}}),"withControls"));var jm=wp.i18n.__,Sm=wp.element,Cm=Sm.Component,_m=Sm.Fragment,Em=Sm.useCallback,Fm=Sm.useState,xm=Sm.useRef,Dm=wp.data.withSelect,Am=wp.compose,Pm=Am.compose,Tm=Am.ifCondition,Nm=wp.keycodes,Bm=Nm.LEFT,Im=Nm.RIGHT,Lm=Nm.UP,Mm=Nm.DOWN,Rm=Nm.BACKSPACE,zm=Nm.ENTER,Um=wp.blockEditor.URLPopover,Hm=wp.components,Wm=Hm.ToggleControl,Vm=Hm.IconButton,qm=Hm.Path,Km=Hm.SVG,Jm=Hm.NavigableMenu,Gm=Hm.MenuItem,$m=Hm.withSpokenMessages,Ym=function(e){e.stopPropagation()},Qm=function(e){[Bm,Mm,Im,Lm,Rm,zm].indexOf(e.keyCode)>-1&&e.stopPropagation()},Zm=function(e){var t=e.advancedOptions,o=e.linkDestination,n=e.mediaLinks,r=e.onChangeUrl,i=e.url,c=Fm(!1),s=Cn()(c,2),l=s[0],u=s[1],p=Em((function(){u(!0)})),d=Fm(!1),b=Cn()(d,2),f=b[0],m=b[1],h=Fm(null),g=Cn()(h,2),v=g[0],k=g[1],w=Em((function(){"media"!==o&&"attachment"!==o||k(""),m(!0)})),y=Em((function(){m(!1)})),O=Em((function(){k(null),y(),u(!1)})),j=xm(null),S=Em((function(){return function(e){var t=j.current;t&&t.contains(e.target)||(u(!1),k(null),y())}})),C=Em((function(){return function(e){v&&r(v),y(),k(null),e.preventDefault()}})),_=Em((function(){r("")})),E=null!==v?v:i,F=(find(n,["linkDestination",o])||{}).title;return Object(a.createElement)(_m,null,Object(a.createElement)(Vm,{icon:"admin-links",className:"components-toolbar__control",label:jm(i?"Edit Media Link":"Media Link","blockshop-options"),"aria-expanded":l,onClick:p}),l&&Object(a.createElement)(Um,{onClickOutside:S(),onClose:O,renderSettings:function(){return t},additionalControls:!E&&Object(a.createElement)(Jm,null,Object(ee.map)(n,(function(e){return Object(a.createElement)(Gm,{key:e.linkDestination,icon:e.icon,onClick:function(){k(null),r(e.url),y()}},e.title)})))},(!i||f)&&Object(a.createElement)(Um.LinkEditor,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:E,onChangeInputValue:k,onKeyDown:Qm,onKeyPress:Ym,onSubmit:C(),autocompleteRef:j}),i&&!f&&Object(a.createElement)(_m,null,Object(a.createElement)(Um.LinkViewer,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Ym,url:i,onEditLinkClick:w,urlLabel:F}),Object(a.createElement)(Vm,{icon:"no",label:jm("Remove Link","blockshop-options"),onClick:_}))))},Xm=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).onSetNewTab=e.onSetNewTab.bind(kt()(e)),e.getLinkDestinations=e.getLinkDestinations.bind(kt()(e)),e.onSetHref=e.onSetHref.bind(kt()(e)),e.state={isVisible:!1},e}return yt()(t,e),bt()(t,[{key:"onSetHref",value:function(e){var t,o=this.props.attributes.linkDestination,n=this.getLinkDestinations();o===(t=e?(find(n,(function(t){return t.url===e}))||{linkDestination:"custom"}).linkDestination:"none")?this.props.setAttributes({href:e}):this.props.setAttributes({linkDestination:t,href:e})}},{key:"onSetNewTab",value:function(e){var t=e?"_blank":void 0;this.props.setAttributes({linkTarget:t})}},{key:"getLinkDestinations",value:function(){var e=this.props.image;return[{linkDestination:"media",title:jm("Media File","blockshop-options"),url:e.source_url,icon:Object(a.createElement)(Km,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(a.createElement)(qm,{d:"M0,0h24v24H0V0z",fill:"none"}),Object(a.createElement)(qm,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),Object(a.createElement)(qm,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"}))},{linkDestination:"attachment",title:jm("Attachment Page","blockshop-options"),url:e.link,icon:Object(a.createElement)(Km,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(a.createElement)(qm,{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.createElement)(qm,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))}]}},{key:"render",value:function(){var e=this.props,t=e.attributes,o=e.setAttributes,n=t.href,r=t.linkDestination,i=t.linkTarget,c=t.linkNoFollow,s=t.linkSponsored,l=t.linkFullBlock;return Object(a.createElement)(_m,null,Object(a.createElement)(Zm,{url:n||"",onChangeUrl:this.onSetHref,mediaLinks:this.getLinkDestinations(),linkDestination:r,advancedOptions:Object(a.createElement)(_m,null,Object(a.createElement)(Wm,{label:jm("Open in New Tab","blockshop-options"),onChange:this.onSetNewTab,checked:"_blank"===i}),Object(a.createElement)(Wm,{label:jm("No follow","blockshop-options"),onChange:function(){o({linkNoFollow:!c})},checked:!!c}),Object(a.createElement)(Wm,{label:jm("Sponsored","blockshop-options"),onChange:function(){o({linkSponsored:!s})},checked:!!s}),Object(a.createElement)(Wm,{label:jm("Apply link to whole block","blockshop-options"),onChange:function(){o({linkFullBlock:!l})},checked:!!l}))}))}}]),t}(Cm),eh=Pm(Dm((function(e,t){var o=e("core").getMedia,n=t.attributes.mediaId;return{image:n?o(n):null,isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackMediaTextLinkOptions")}})),Tm((function(e){return!e.isDisabled&&e.image&&"image"===e.attributes.mediaType&&void 0!==Um.LinkEditor})),$m)(Xm),th=wp.element,oh=th.Component,nh=th.Fragment,rh=wp.blockEditor.BlockControls,ih=wp.components.Toolbar,ch=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){return Object(a.createElement)(nh,null,Object(a.createElement)(rh,null,Object(a.createElement)(ih,null,Object(a.createElement)(eh,this.props))))}}]),t}(oh);function sh(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var ah=wp.hooks.addFilter,lh=wp.element.Fragment,uh=wp.compose.createHigherOrderComponent,ph=["core/media-text"];var dh=uh((function(e){return function(t){return Object(a.createElement)(lh,null,Object(a.createElement)(e,t),t.isSelected&&ph.includes(t.name)&&Object(a.createElement)(ch,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?sh(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):sh(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},t)))}}),"withControls");ah("blocks.registerBlockType","sidetrack/media-text-link/attributes",(function(e){return ph.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{href:{type:"string"},linkDestination:{type:"string",default:"none"},linkTarget:{type:"string",default:"none"},linkNoFollow:{type:"boolean",default:!1},linkSponsored:{type:"boolean",default:!1},linkFullBlock:{type:"boolean",default:!1}})),e})),ah("editor.BlockEdit","sidetrack/media-text-link",dh);var bh=wp.components.Button,fh=wp.blocks.getBlockType,mh=wp.i18n.__,hh=wp.blockEditor.BlockIcon;function gh(e){var t=e.blocks,o=e.selectedBlockClientId,n=e.selectBlock,r=e.showNestedBlocks;return(Object(a.createElement)("ul",{className:"editor-block-navigation__list block-editor-block-navigation__list",role:"list"},Object(ee.map)(t,(function(e){var t=fh(e.name),i=e.clientId===o;return Object(a.createElement)("li",{key:e.clientId},Object(a.createElement)("div",{className:"editor-block-navigation__item block-editor-block-navigation__item"},Object(a.createElement)(bh,{className:u()("editor-block-navigation__item-button block-editor-block-navigation__item-button",{"is-selected":i}),onClick:function(){return n(e.clientId)}},Object(a.createElement)(hh,{icon:t.icon,showColors:!0}),t.title,i&&Object(a.createElement)("span",{className:"screen-reader-text"},mh("(selected block)")))),r&&!!e.innerBlocks&&!!e.innerBlocks.length&&Object(a.createElement)(gh,{blocks:e.innerBlocks,selectedBlockClientId:o,selectBlock:n,showNestedBlocks:!0}))}))))}var vh=wp.i18n.__,kh=wp.element,wh=kh.Component,yh=kh.Fragment,Oh=wp.blockEditor.BlockControls,jh=wp.components,Sh=jh.Toolbar,Ch=jh.withSpokenMessages,_h=jh.IconButton,Eh=jh.SVG,Fh=jh.Path,xh=jh.Modal,Dh=wp.data,Ah=Dh.withSelect,Ph=Dh.withDispatch,Th=wp.compose,Nh=Th.compose,Bh=Th.ifCondition,Ih=Object(a.createElement)(Eh,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},Object(a.createElement)(Fh,{d:"M5 5H3v2h2V5zm3 8h11v-2H8v2zm9-8H6v2h11V5zM7 11H5v2h2v-2zm0 8h2v-2H7v2zm3-2v2h11v-2H10z"})),Lh=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isNavigationListOpen:!1},e}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.block,n=t.selectBlock,r=t.selectedBlockClientId,i=Object(a.createElement)(_h,{className:"components-toolbar__control",label:vh("Open block navigator","blockshop-options"),onClick:function(){return e.setState({isNavigationListOpen:!0})},icon:Ih}),c=this.state.isNavigationListOpen&&Object(a.createElement)(xh,{title:vh("Block Navigator","blockshop-options"),closeLabel:vh("Close","blockshop-options"),onRequestClose:function(){e.setState({isNavigationListOpen:!1})}},Object(a.createElement)(gh,{blocks:[o],selectedBlockClientId:r,selectBlock:n,showNestedBlocks:!0}));return Object(a.createElement)(yh,null,Object(a.createElement)(Oh,null,Object(a.createElement)(Sh,null,i)),c)}}]),t}(wh),Mh=Nh(Ah((function(e,t){var o=t.attributes,n=t.setAttributes,r=t.clientId,i=e("core/block-editor"),c=i.getSelectedBlockClientId;return{attributes:o,setAttributes:n,clientId:r,block:(0,i.getBlock)(r),selectedBlockClientId:c(),isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackNavigatorOptions")}})),Ph((function(e){return{selectBlock:e("core/block-editor").selectBlock}})),Bh((function(e){return!e.isDisabled})),Ch)(Lh);function Rh(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var zh=wp.hooks.addFilter,Uh=wp.element.Fragment,Hh=wp.compose.createHigherOrderComponent,Wh=wp.blocks.hasBlockSupport,Vh=["core/columns","core/column","core/group"];zh("editor.BlockEdit","sidetrack/media-text-link",Hh((function(e){return function(t){return Object(a.createElement)(Uh,null,Object(a.createElement)(e,t),t.isSelected&&(Vh.includes(t.name)||Wh(t.name,"editorsKitBlockNavigator"))&&Object(a.createElement)(Mh,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Rh(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Rh(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},t)))}}),"withNavigator"));var qh=wp.i18n.__,Kh=wp.data,Jh=Kh.withSelect,Gh=Kh.withDispatch,$h=wp.compose.compose,Yh=wp.element,Qh=Yh.Component,Zh=Yh.Fragment,Xh=wp.blockEditor.BlockControls,eg=wp.components,tg=eg.Toolbar,og=eg.withSpokenMessages,ng=eg.Button,rg=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.onConvertToStatic;return e.isDisabled?null:Object(a.createElement)(Zh,null,Object(a.createElement)(Xh,null,Object(a.createElement)(tg,null,Object(a.createElement)(ng,{onClick:t,className:"sidetrack-reusable-convert-controls"},qh("Convert to Regular Blocks","blockshop-options")))))}}]),t}(Qh),ig=$h(Jh((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackConvertReusableOptions")}})),Gh((function(e,t){var o=t.clientId,n=e("core/notices").createNotice,r=e("core/editor").__experimentalConvertBlockToStatic;return{onConvertToStatic:function(){r(o),n("info",qh("Reusable Block converted.","blockshop-options"),{isDismissible:!0,type:"snackbar"})}}})),og)(rg);function cg(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var sg=wp.hooks.addFilter,ag=wp.element.Fragment,lg=wp.compose.createHigherOrderComponent,ug=["core/block"];sg("editor.BlockEdit","sidetrack/reusable-block-convert",lg((function(e){return function(t){return Object(a.createElement)(ag,null,t.isSelected&&ug.includes(t.name)&&Object(a.createElement)(ig,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?cg(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):cg(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},t)),Object(a.createElement)(e,t))}}),"withControls"));var pg=wp.data.withSelect,dg=wp.compose.compose,bg=wp.element,fg=bg.Component,mg=bg.Fragment,hg=wp.blockEditor,gg=hg.BlockControls,vg=hg.BlockVerticalAlignmentToolbar,kg=wp.components.withSpokenMessages,wg=function(e){function t(){return pt()(this,t),mt()(this,gt()(t).apply(this,arguments))}return yt()(t,e),bt()(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,o=e.setAttributes,n=e.isDisabled,r=t.verticalAlignment;return n?null:Object(a.createElement)(mg,null,Object(a.createElement)(gg,null,Object(a.createElement)(vg,{value:r,onChange:function(e){o({verticalAlignment:e})}})))}}]),t}(fg),yg=dg(pg((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableSidetrackCoverAlignmentOptions")}})),kg)(wg);function Og(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function jg(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Og(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Og(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Sg=wp.hooks.addFilter,Cg=wp.element.Fragment,_g=wp.compose.createHigherOrderComponent,Eg=["core/cover"];var Fg=_g((function(e){return function(t){return Object(a.createElement)(Cg,null,Object(a.createElement)(e,t),t.isSelected&&Eg.includes(t.name)&&Object(a.createElement)(yg,jg({},t)))}}),"withControls");var xg=_g((function(e){return function(t){var o=t.name,n=t.attributes.verticalAlignment,r=t.wrapperProps,i={};return Eg.includes(o)&&n&&("top"===n?i=Object.assign(i,{"data-sidetrack-is-vertically-top":1}):"bottom"===n&&(i=Object.assign(i,{"data-sidetrack-is-vertically-bottom":1}))),r=jg({},r,{},i),Object(a.createElement)(e,s()({},t,{wrapperProps:r}))}}),"addEditorBlockAttributes");Sg("blocks.registerBlockType","sidetrack/cover/attributes",(function(e){return Eg.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{verticalAlignment:{type:"string"}})),e})),Sg("editor.BlockEdit","sidetrack/cover-vertical-alignment",Fg),Sg("blocks.getSaveContent.extraProps","sidetrack/cover/applyExtraClass",(function(e,t,o){var n=o.verticalAlignment;return Eg.includes(t.name)&&n&&(e.className=u()(e.className,"is-vertically-aligned-"+n)),e})),Sg("editor.BlockListBlock","sidetrack/cover/addEditorBlockAttributes",xg);var Dg=wp.i18n.__,Ag=wp.element,Pg=Ag.Component,Tg=Ag.Fragment,Ng=Ag.createRef,Bg=wp.dom.focus,Ig=wp.blocks.createBlock,Lg=wp.compose,Mg=Lg.compose,Rg=Lg.ifCondition,zg=wp.data,Ug=zg.select,Hg=zg.withSelect,Wg=zg.withDispatch,Vg=zg.dispatch,qg=wp.components,Kg=qg.withSpokenMessages,Jg=qg.Modal,Gg=qg.Button,$g=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).nameInput=Ng(),e.focus=e.focus.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"focus",value:function(){if(null!==this.nameInput.current){var e=Bg.tabbable.find(document.querySelector(".components-modal--sidetrack-transform-empty"));e.length&&(document.activeElement.blur(),e[0].focus())}}},{key:"componentDidUpdate",value:function(){this.focus()}},{key:"render",value:function(){var e=this.props,t=e.getBlocks,o=e.getBlockIndex,n=e.createSpacer,r=e.onToggle,i=e.isPrompted,c=o-3,s=function(){r(1)};if(c<0)return null;var l=t[c],u=t[c+1],p=t[c+2],d=t[c+3];return"core/paragraph"!==l.name||"core/paragraph"!==u.name||"core/paragraph"!==p.name||"core/paragraph"!==d.name?null:Object(ee.isEmpty)(l.attributes.content)&&Object(ee.isEmpty)(u.attributes.content)&&Object(ee.isEmpty)(p.attributes.content)&&Object(ee.isEmpty)(d.attributes.content)?i?(n(l.clientId,u.clientId,p.clientId,d.clientId),null):Object(a.createElement)(Tg,null,Object(a.createElement)(Jg,{title:Dg("Enable Shortcut","blockshop-options"),onRequestClose:function(){return s()},shouldCloseOnClickOutside:!1,closeLabel:Dg("Close","blockshop-options"),icon:null,className:"sidetrack-modal-component components-modal--sidetrack-transform-empty"},Object(a.createElement)("p",null,Dg("Do you want to automatically transform four(4) consecutive empty paragraphs into Spacer Block?","blockshop-options")),Object(a.createElement)(Gg,{isPrimary:!0,isLarge:!0,onClick:function(){r(0),n(l.clientId,u.clientId,p.clientId,d.clientId)},ref:this.nameInput},Dg("Yes Enable","blockshop-options")),"",Object(a.createElement)(Gg,{isDefault:!0,isLarge:!0,onClick:function(){return s()}},Dg("No, Thanks","blockshop-options")),Object(a.createElement)("p",null,Object(a.createElement)("small",null,Dg("This prompt will only be shown once and will remember your preference. Thanks!","blockshop-options"))))):null}}]),t}(Pg),Yg=Mg(Hg((function(){var e=Ug("core/block-editor"),t=e.getSelectedBlockClientId,o=e.getBlockRootClientId,n=e.getBlocks,r=e.getBlockIndex,i=e.getBlocksByClientId,c=t(),s=o(c),a=n(),l=r(c);return Object(ee.isEmpty)(s)||(a=i(s)[0].innerBlocks,l=r(c,s)),{getBlocks:a,getBlockIndex:l,isDisabled:Ug("core/edit-post").isFeatureActive("disableSidetrackTransformEmptyWriting"),isPrompted:Ug("core/edit-post").isFeatureActive("editorsKitTransformEmptyWriting")}})),Wg((function(){return{createSpacer:function(e,t,o,n){var r=Vg("core/block-editor"),i=r.selectBlock,c=r.replaceBlock,s=r.removeBlocks,a=Ig("core/spacer",{});s([e,t,o]),c(n,a),i(a.clientId)},onToggle:function(e){Vg("core/edit-post").toggleFeature("editorsKitTransformEmptyWriting"),e&&Vg("core/edit-post").toggleFeature("disableSidetrackTransformEmptyWriting")}}})),Rg((function(e){return!e.isDisabled})),Kg)($g);(0,wp.plugins.registerPlugin)("sidetrack-empty-to-spacer",{icon:!1,render:Yg});o(163),o(164);var Qg=wp.data,Zg=Qg.withSelect,Xg=Qg.withDispatch,ev=Qg.select,tv=wp.compose,ov=tv.compose,nv=tv.ifCondition,rv=wp.element,iv=rv.Fragment,cv=rv.Component,sv=wp.keycodes.rawShortcut,av=wp.components,lv=av.withSpokenMessages,uv=av.KeyboardShortcuts,pv=function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).triggerShortcut=e.triggerShortcut.bind(kt()(e)),e.state={isOpen:!1},e}return yt()(t,e),bt()(t,[{key:"triggerShortcut",value:function(e){var t=this.props,o=t.parentBlockId;(0,t.onSelect)(o),e.preventDefault()}},{key:"render",value:function(){return!!this.props.parentBlockId&&Object(a.createElement)(iv,null,Object(a.createElement)(uv,{bindGlobal:!0,shortcuts:i()({},sv.primaryShift("."),this.triggerShortcut)}))}}]),t}(cv),dv=ov([Zg((function(){var e=ev("core/block-editor"),t=e.getSelectedBlockClientId,o=e.getBlockRootClientId,n=t();return n?{selectedBlockId:n,parentBlockId:o(n),isDisabled:ev("core/edit-post").isFeatureActive("disableSidetrackSelectParentShortcuts")}:{}})),Xg((function(e){var t=e("core/block-editor").selectBlock;return{onSelect:function(e){t(e)}}})),nv((function(e){return!e.isDisabled})),lv])(pv);(0,wp.plugins.registerPlugin)("sidetrack-shortcuts-select-parent",{icon:!1,render:dv});var bv=wp.i18n.__,fv=wp.hooks.addFilter,mv=wp.element.Fragment,hv=wp.data.withDispatch,gv=wp.compose,vv=gv.compose,kv=gv.createHigherOrderComponent,wv=wp.blocks.getBlockType,yv=wp.blockEditor.InspectorAdvancedControls,Ov=wp.components.Button,jv=vv(hv((function(e){var t=e("core/edit-post").hideBlockTypes,o=e("core/notices").createNotice,n=e("core/block-editor"),r=n.removeBlock,i=n.clearSelectedBlock;return{editorsKitDisableBlock:function(e,n){t(e),r(n),i();var c=wv(e).title;o("info",c+bv(" block has been disabled.","blockshop-options"),{isDismissible:!0,type:"snackbar"})}}})));function Sv(e){var t=new window.FileReader;return new Promise((function(o){t.onload=function(){o(t.result)},t.readAsText(e)}))}function Cv(){return(Cv=Zc()(kc.a.mark((function e(t){var o,n,r,i;return kc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sv(t);case 2:o=e.sent,e.prev=3,n=JSON.parse(o),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),new Error("Invalid JSON file");case 10:if("wp_block"===n.__file&&n.title&&n.content&&Object(ee.isString)(n.title)&&Object(ee.isString)(n.content)){e.next=12;break}return e.abrupt("return",_v(n));case 12:return e.next=14,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 14:return r=e.sent,e.next=17,wp.apiFetch({path:"/wp/v2/".concat(r.rest_base),data:{title:n.title,content:n.content,status:"publish"},method:"POST"});case 17:if(!(i=e.sent).id){e.next=20;break}return e.abrupt("return",'\x3c!-- wp:block {"ref":'+i.id+"} /--\x3e");case 20:throw new Error("Invalid Reusable Block JSON file contents");case 21:case"end":return e.stop()}}),e,null,[[3,7]])})))).apply(this,arguments)}function _v(e){if("core_block"!==e.__file||!e.content||!Object(ee.isString)(e.content))throw new Error("Invalid JSON file");return e.content}fv("editor.BlockEdit","sidetrack/advanced/disable-block",kv((function(e){return jv((function(t){var o=s()({},t),n=o.name,r=o.clientId,i=o.attributes,c=o.editorsKitDisableBlock,l=i.sidetrack;return void 0!==l&&void 0!==l.unit_test&&l.unit_test&&o.isSelected?Object(a.createElement)(mv,null,Object(a.createElement)(e,o),Object(a.createElement)(yv,null,Object(a.createElement)("div",{className:"components-base-control components-button-control components-sidetrack-disable-block"},Object(a.createElement)("div",{className:"components-base-control__field"},Object(a.createElement)(Ov,{isPrimary:!0,isLarge:!0,isDestructive:!0,onClick:function(){c(n,r)}},bv("Remove & Disable Block","blockshop-options"))),Object(a.createElement)("p",{className:"components-base-control__help"},bv("Click if you want this block to be disabled on Block Manager.","blockshop-options"))))):Object(a.createElement)(e,o)}))}),"withInspectorControl"));var Ev=function(e){return Cv.apply(this,arguments)},Fv=wp.i18n.__,xv=wp.data,Dv=xv.select,Av=xv.dispatch,Pv=wp.compose.withInstanceId,Tv=wp.element,Nv=Tv.Fragment,Bv=Tv.Component,Iv=wp.blocks,Lv=Iv.parse,Mv=Iv.createBlock,Rv=wp.blockEditor.MediaUploadCheck,zv=wp.components,Uv=zv.DropZone,Hv=zv.FormFileUpload,Wv=zv.Placeholder,Vv=zv.Notice,qv=["json"],Kv=Pv(function(e){function t(){var e;return pt()(this,t),(e=mt()(this,gt()(t).apply(this,arguments))).state={isLoading:!1,error:null},e.isStillMounted=!0,e.addFile=e.addFile.bind(kt()(e)),e}return yt()(t,e),bt()(t,[{key:"componentDidMount",value:function(){var e=this.props.attributes.file;e&&(this.setState({isLoading:!0}),this.addFile(e))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"insertImportedBlocks",value:function(e){var t=this.props.onClose;e=Lv(e);var o=[],n=Dv("core/block-editor").getBlockInsertionPoint();if(e.length>0){for(var r in e){var i=Mv(e[r].name,e[r].attributes,e[r].innerBlocks);Av("core/block-editor").insertBlocks(i,parseInt(n.index)+parseInt(r)),void 0!==i&&o.push(i.clientId)}Av("core/block-editor").removeBlock(this.props.clientId),o.length>0&&Av("core/block-editor").multiSelect(o[0],o.reverse()[0])}t()}},{key:"addFile",value:function(e){var t=this,o=e[0];e.target&&(o=event.target.files[0]),o&&(this.setState({isLoading:!0}),Ev(o).then((function(e){t.isStillMounted&&(t.setState({isLoading:!1}),t.insertImportedBlocks(e))})).catch((function(e){if(t.isStillMounted){var o;switch(e.message){case"Invalid JSON file":o=Fv("Invalid JSON file","blockshop-options");break;case"Invalid Reusable Block JSON file":o=Fv("Invalid Reusable Block JSON file","blockshop-options");break;default:o=Fv("Unknown error","blockshop-options")}t.setState({isLoading:!1,error:o})}})))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,o=e.error;return Object(a.createElement)(Wv,{icon:"download",label:Fv("Import from JSON","blockshop-options"),instructions:Fv("Drag a file or upload a new one from your device.","blockshop-options"),className:"editor-media-placeholder",notices:o&&Object(a.createElement)(Vv,{status:"error"},o)},Object(a.createElement)(Nv,null,Object(a.createElement)(Rv,null,Object(a.createElement)(Uv,{onFilesDrop:this.addFile,label:Fv("Import from JSON","blockshop-options")}),Object(a.createElement)(Hv,{isLarge:!0,className:"editor-media-placeholder__button",onChange:this.addFile,accept:qv,isBusy:t,disabled:t,multiple:!1},Fv("Upload","blockshop-options")))))}}]),t}(Bv)),Jv=wp.components.SVG,Gv=Object(a.createElement)(Jv,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(a.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(a.createElement)("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),$v=wp.blocks.createBlock,Yv={from:[{type:"files",isMatch:function(e){return"application/json"===e[0].type},priority:14,transform:function(e){var t=[];return t.push($v("sidetrack/import",{file:e})),t}}]},Qv=wp.i18n.__,Zv="import",Xv=Qv("Import","blockshop-options"),ek=[Qv("import","blockshop-options"),Qv("download","blockshop-options"),Qv("migrate","blockshop-options")],tk={title:Xv,description:Qv("Import blocks exported using Sidetrack plugin.","blockshop-options"),keywords:ek,attributes:{file:{type:"object"}},supports:{align:!0,alignWide:!1,alignFull:!1,customClassName:!1,className:!1,html:!1},transforms:Yv,edit:Kv,save:function(){return null}};function ok(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}o.d(t,"registerBlocks",(function(){return rk}));var nk=wp.blocks.registerBlockType;function rk(){[n].forEach((function(e){if(e){var t=e.name,o=e.settings;nk("sidetrack/".concat(t),function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ok(o,!0).forEach((function(t){i()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ok(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({category:"common"},o))}}))}rk()}]);